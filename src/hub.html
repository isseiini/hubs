<!DOCTYPE html>
<html>

<head>
  <!-- DO NOT REMOVE/EDIT THIS COMMENT - META_TAGS -->

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <link rel="icon" sizes="16x16 24x24 32x32 48x48 64x64" href="assets/images/Doutonbori_favicon_icon.ico">
  <!-- Web-App Manifest (https://w3c.github.io/manifest/) -->
  <link rel="manifest" href="/manifest.webmanifest">
  <!-- iOS (for "Add to Homescreen") -->
  <meta name="mobile-web-app-capable" content="yes">
  <title>バーチャル道頓堀</title>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,500;0,700;1,400&display=swap" rel="stylesheet"> 
  <link rel="stylesheet" type="text/css" href="https://unpkg.com/augmented-ui@2/augmented-ui.min.css">
  
  <!--<link rel="stylesheet" type="text/css" href="../node_modules/augmented-ui/augmented-ui.css">-->
  <!-- Google Analytics -->
  <!-- NOTE GA tracking is disabled by default. You'll need to set the GA_TRACKING_ID build variable to enable it. -->
  <!--<script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>-->
  <!--<script type="application/javascript" src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>-->
  <script>
  if (navigator.doNotTrack !== "1") {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  </script>
  <script type="application/javascript" src="https://sdk.amazonaws.com/js/aws-sdk-2.657.0.min.js"></script>
  <!--<script type="application/javascript" src="jsbn.js"></script>
  <script type="application/javascript" src="jsbn2.js"></script>
  <script type="application/javascript" src="sjcl.js"></script>
  <script type="application/javascript" src="aws-cognito-sdk.min.js"></script>
  <script type="application/javascript" src="amazon-cognito-identity.min.js"></script>-->
  <style type="text/css">
    html, body, div, span, object, iframe,
    h1, h2, h3, h4, h5, h6, p, blockquote, pre,
    abbr, address, cite, code,
    del, dfn, em, img, ins, kbd, q, samp,
    small, strong, sub, sup, var,
    b, i,
    dl, dt, dd, ol, ul, li,
    fieldset, form, label, legend,
    table, caption, tbody, tfoot, thead, tr, th, td,
    article, aside, canvas, details, figcaption, figure, 
    footer, header, hgroup, menu, nav, section, summary,
    time, mark, audio, video {
      margin:0;
      padding:0;
      border:0;
      outline:0;
      font-size:100%;
      vertical-align:baseline;
      background:transparent;
    }

    body {
      line-height:1;
    }

    article,aside,details,figcaption,figure,
    footer,header,hgroup,menu,nav,section { 
      display:block;
    }

    nav ul {
      list-style:none;
    }

    blockquote, q {
      quotes:none;
    }

    blockquote:before, blockquote:after,
    q:before, q:after {
      content:'';
      content:none;
    }

    a {
      margin:0;
      padding:0;
      font-size:100%;
      vertical-align:baseline;
      background:transparent;
    }

    /* change colours to suit your needs */
    ins {
      background-color:#ff9;
      color:#000;
      text-decoration:none;
    }

    /* change colours to suit your needs */
    mark {
      background-color:#ff9;
      color:#000; 
      font-style:italic;
      font-weight:bold;
    }

    del {
      text-decoration: line-through;
    }

    abbr[title], dfn[title] {
      border-bottom:1px dotted;
      cursor:help;
    }

    table {
      border-collapse:separate;
      border-spacing:0;
    }

    /* change border colour to suit your needs */
    hr {
      display:block;
      height:1px;
      border:0;   
      border-top:1px solid #cccccc;
      margin:1em 0;
      padding:0;
    }

    input, select {
      vertical-align:middle;
    }

    *,
    *:before,
    *:after {
      -webkit-box-sizing: inherit;
      box-sizing: inherit;
    }

    * {
      margin: 0;
      padding: 0;
    }

    body {
      width: 100%;
      height: 100%;
    }

    :root {
      /* color */
      --blue: rgb(76, 183, 233);
      --blue_sub: rgb(76, 183, 233, 0.2);
      --red: rgb(255, 124, 124);
      --yellow: rgb(255, 253, 108);
      --green: rgb(93, 255, 128);
      --purple: rgb(255, 93, 215);
      --gray: rgb(185, 185, 185);
      --white: rgba(255, 255, 255, 0.37);
      --neon-border-color: rgba(0, 136, 255, 0.582);
      --neon-text-color: #f40;
      --team-color: rgb(27, 190, 185);
      --team-color-sub: rgba(0, 243, 235, 0.05);
      --UI-width: 100vw;
      /*--red-team-color: #BA0705;*/
      /* style */
      --main-color: var(--blue);
      --sub-color:var(--blue_sub);

      --display1:none;
      --display2:none;
      --display3:none;
      --display4:none;
      --display5:none;
      --display6:none;

      --hex-width: 40px;
      --hex-width-reverse: calc(8px - var(--hex-width));
    }

    @media (min-width: 1000px) {
      :root {
        --UI-width:1000px
      }
    }

    .guide-parts {
      font-size: 1.5rem;
      font-weight: lighter;
      position: absolute;
      background-color: #0000008e;
      color: yellow;
      text-align: center;
      border: 1.5px dotted #ffffff;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    #chat-terms {
      overflow-y: scroll;
      height: 100px;
      width: 80%;
      margin:  0 auto;
      -ms-overflow-style: none;    /* IE, Edge 対応 */
      scrollbar-width: none;       /* Firefox 対応 */
      background-color: #d8d8d8;
      padding: 10px 15px;
    }

    #chat-terms::-webkit-scrollbar {  /* Chrome, Safari 対応 */
      display:none;
    }

    #hex-background {
      background-image: linear-gradient(0deg, transparent 39px, var(--sub-color) 40px), linear-gradient(90deg,  transparent 69px, var(--sub-color) 70px);
      background-size: 70px 40px;
      background-color: rgb(97, 97, 97);
      width: 100vw;
      height: 100vh;
      position: absolute;
      top: 0;
      left: 0;
      display: none;
      flex-direction: row;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px 15px;
      padding-top: 50px;
      z-index: 10000;
      overflow-y: scroll;
    }

    #terms-container {
      position: fixed;
      background-color: #aaaaaa;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 100000000;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    #terms {
      width: 90%;
      max-width: 600px;
      height: 90%;
      max-height: 800px;
      overflow-y: scroll;
      -ms-overflow-style: none;    /* IE, Edge 対応 */
      scrollbar-width: none;       /* Firefox 対応 */
      margin: 0 auto;
      background-color: #ffffff;
      padding: 20px 25px;
      position: relative;
      border: 2px solid #00fff2;
    }

    #terms::-webkit-scrollbar {  /* Chrome, Safari 対応 */
      display:none;
    }

    #confirm-terms {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      background-color: #aaaaaa;
      text-align: center;
      
    }

    #confirm-terms-button {
      background-color: #d8d8d8;
      padding: 10px 15px;
   
      font-size: 1.6rem;
      border: 1px solid #00e1ff63;
    }

    .contents-container {
      width: 100%;
      padding: 5px;
      letter-spacing: 1.5px;
      font-size: 1.5rem;
      color: #ffffff;
    }

    .contents-container h3 {
      color: yellow;
      font-weight: normal;
    }

    #hubs-top {
      --aug-b-extend1: calc(var(--hex-width) + 6px);
      --aug-b1-width:calc(var(--hex-width) * 0.5);
      --aug-b1-height: calc(var(--hex-width) * 0.5 * 1.73205080757);
      --aug-b2-width: calc(var(--hex-width) * 0.5);
      --aug-b2-height: calc(var(--hex-width) * 0.5 * 1.73205080757);
      --aug-b-inset1: 0px;
      --aug-b-center: calc(50%);

      --aug-bl-inset2: 0%;
      --aug-bl-extend2: calc(100% - 65px);

    
      
      width: 100%;
      height: 200px;

      position: relative;
    }

    #hubs-container-top {
      width: 100%;
      height: 200px;
      background-color: #00fff2;

      --aug-tr: 26px;
      --aug-bl: 26px;
      --aug-br: 11px;
      
      background-image: repeating-linear-gradient(90deg,rgb(97, 97, 97) 0, rgb(97, 97, 97) 6px,transparent 6px, transparent 100%);
    }

    #hubs-middle {
      position: relative;
      z-index: 2;
      cursor: pointer;
      --aug-border-all: 4px;
      --aug-border-bg: red;
      --aug-all-width: calc(var(--hex-width) * 2);
      margin: var(--hex-width-reverse) auto;
      background-color: rgba(0, 0, 0, 0.2);
      background-image: repeating-linear-gradient(#6e6b6b 0, #6e6b6b 1.5px,rgb(97, 97, 97) 1.5px, rgb(97, 97, 97) 3px);
    }

    #hubs-bottom {
      --aug-t-extend1: calc(var(--hex-width) + 6px);
      --aug-t1-width:calc(var(--hex-width) * 0.5);
      --aug-t1-height: calc(var(--hex-width) * 0.5 * 1.73205080757);
      --aug-t2-width: calc(var(--hex-width) * 0.5);
      --aug-t2-height: calc(var(--hex-width) * 0.5 * 1.73205080757);
      --aug-t-inset1: 0px;
      --aug-b-extend1: 60%;
      --aug-b1: 3px;
      --aug-l-extend1: 60%;
      --aug-l: 3px;
      --aug-r-extend1: 60%;
      --aug-r: 3px;

      width: 100%;
      padding: 40px 10px 30px 10px;
      background-color: rgb(97, 97, 97);
      position: relative;
      background-image: repeating-linear-gradient(#6e6b6b 0, #6e6b6b 1.5px,rgb(97, 97, 97) 1.5px, rgb(97, 97, 97) 3px);
    }

    #hubs-container-bottom {
      width: 100%;
      background-color: #00fff2;

      --aug-tr: 11px;
      --aug-tl: 11px;
      
      
    }

    #VRChat-top {
      --aug-b-extend1: calc(var(--hex-width) + 6px);
      --aug-b1-width:calc(var(--hex-width) * 0.5);
      --aug-b1-height: calc(var(--hex-width) * 0.5 * 1.73205080757);
      --aug-b2-width: calc(var(--hex-width) * 0.5);
      --aug-b2-height: calc(var(--hex-width) * 0.5 * 1.73205080757);
      --aug-b-inset1: 0px;
      --aug-b-center: calc(50%);

      --aug-br-inset1: 0%;
      --aug-br-extend1: calc(100% - 65px);

      width: 100%;
      height: 200px;

  
    }

    #VRChat-container-top {
      width: 100%;
      height: 200px;
      background-color: #00fff2;

      --aug-tl: 26px;
      --aug-br: 26px;
      --aug-bl: 11px;
      
      background-image: repeating-linear-gradient(90deg, transparent 0px, transparent calc(100% - 6px), rgb(97, 97, 97) calc(100% - 6px), rgb(97, 97, 97) 100%);
    }

    #VRChat-middle {
      position: relative;
      z-index: 2;
      cursor: pointer;
      --aug-border-all: 4px;
      --aug-border-bg: red;
      --aug-all-width: calc(var(--hex-width) * 2);
      margin: var(--hex-width-reverse) auto;
      background-color: rgba(0, 0, 0, 0.2);
      background-image: repeating-linear-gradient(#6e6b6b 0, #6e6b6b 1.5px,rgb(97, 97, 97) 1.5px, rgb(97, 97, 97) 3px);
    }

    #VRChat-bottom {
      --aug-t-extend1: calc(var(--hex-width) + 6px);
      --aug-t1-width:calc(var(--hex-width) * 0.5);
      --aug-t1-height: calc(var(--hex-width) * 0.5 * 1.73205080757);
      --aug-t2-width: calc(var(--hex-width) * 0.5);
      --aug-t2-height: calc(var(--hex-width) * 0.5 * 1.73205080757);
      --aug-t-inset1: 0px;
      --aug-b-extend1: 60%;
      --aug-b1: 3px;
      --aug-l-extend1: 60%;
      --aug-l: 3px;
      --aug-r-extend1: 60%;
      --aug-r: 3px;

      width: 100%;
      padding: 40px 10px 30px 10px;
      background-color: rgb(97, 97, 97);
     
      background-image: repeating-linear-gradient(#6e6b6b 0, #6e6b6b 1.5px,transparent 1.5px, transparent 3px);
    }

    #VRChat-container-bottom {
      width: 100%;
      background-color: #00fff2;

      --aug-tr: 11px;
      --aug-tl: 11px;
      
      
    }

    #main1-top {
      --aug-b-extend1: 25px;
      --aug-b1-width:7px;
      --aug-b1-height: 10px;
      --aug-b2-width: 7px;
      --aug-b2-height: 10px;
      --aug-b-inset1: 0px;
      --aug-b-center: calc(50%);

      --aug-bl-inset2: 0%;
      --aug-bl-extend2: 70%;

      width: 100%;
      height: 70px;
    }

    #main1-middle {
      --aug-all-width: 32px;
      margin: -7px auto -18px auto;
      background-color: var(--main-color);
    }

    #main1-bottom {
      --aug-t-extend1: 10px;
      --aug-t1-width:14px;
      --aug-t1-height: 24px;
      --aug-t2-width: 14px;
      --aug-t2-height: 24px;
      --aug-t-inset1: 0px;
      --aug-b-extend1: 60%;
      --aug-b1: 5px;

      width: 100%;
      height: 350px;
      position: relative;
      background-image: repeating-linear-gradient(#6e6b6b 0, #6e6b6b 1.5px,transparent 1.5px, transparent 3px);
    }

    #main2-top {
      --aug-b-extend1: 25px;
      --aug-b1-width:7px;
      --aug-b1-height: 10px;
      --aug-b2-width: 7px;
      --aug-b2-height: 10px;
      --aug-b-inset1: 0px;
      --aug-b-center: calc(50%);

      --aug-bl-inset2: 0%;
      --aug-bl-extend2: 70%;

      width: 100%;
      height: 70px;
    }

    #main2-middle {
      --aug-all-width: 32px;
      margin: -7px auto -18px auto;
      background-color: var(--main-color);
    }

    #main2-bottom {
      --aug-t-extend1: 10px;
      --aug-t1-width:14px;
      --aug-t1-height: 24px;
      --aug-t2-width: 14px;
      --aug-t2-height: 24px;
      --aug-t-inset1: 0px;
      --aug-b-extend1: 60%;
      --aug-b1: 5px;

      width: 100%;
      height: 350px;
      position: relative;
      background-image: repeating-linear-gradient(#6e6b6b 0, #6e6b6b 1.5px,transparent 1.5px, transparent 3px);
    }

    .pathes {
      background-color: rgba(0, 0, 0, 0.2);
     
      --aug-border-all: 1px;
      --aug-border-bg: #00fff2;
    }

    #path-to-world {
      width: 80%;
      height: auto;
      --aug-border-bg:var(--main-color);
      --aug-inlay-bg:var(--main-color);
      --aug-inlay-opacity:0.3;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      padding: 10px 25px;
      --aug-border-all:3px;
    }

    h1 {
      font-size: 1.5rem;
      font-weight: 150;
      font-style: italic;
      color: #fff;
      padding: 1rem 0.5rem;
      border: 0.3rem solid #fff;
      border-radius: 1.5rem;
      text-transform: uppercase;
      animation: flicker 1.5s infinite alternate;
      margin: 10px auto !important;
      width: 80%;
      max-width: 80%;
      text-align: center;
    }

    h1::-moz-selection {
      background-color: var(--neon-border-color);
      color: var(--neon-text-color);
    }

    h1::selection {
      background-color: var(--neon-border-color);
      color: var(--neon-text-color);
    }

    h1:focus {
      outline: none;
    }

    #path-to-hubs {
      width: 45%;
      height:300px;
      --aug-border-bg:var(--main-color);
      --aug-border-all:2px;
      --aug-inlay-bg:rgba(0, 0, 0, 0.671);
      --aug-inlay-opacity:0.3;
      margin: 20px 0;
      background-image: url(assets/images/Dotonbori_VRChat_001\ -\ Doutonbori_World\ -\ PC\,\ Mac\ &\ Linux\ Standalone\ -\ Unity\ 2019.4.29f1\ Personal\ [PREVIEW\ PACKAGES\ IN\ USE]\ _DX11_\ 2021_12_20\ 17_14_27.png);    /* 背景画像指定 */
      background-size:  cover;
      position: relative;
    }

    #path-to-VRChat {
      width: 45%;
      height:300px;
      --aug-border-bg:var(--main-color);
      --aug-border-all:2px;
      --aug-inlay-bg:rgba(0, 0, 0, 0.671);
      --aug-inlay-opacity:0.3;
      margin: 20px 0;
      background-image: url(assets/images/Dotonbori_VRChat_001\ -\ Doutonbori_World\ -\ PC\,\ Mac\ &\ Linux\ Standalone\ -\ Unity\ 2019.4.29f1\ Personal\ [PREVIEW\ PACKAGES\ IN\ USE]\ _DX11_\ 2021_12_20\ 17_17_12.png);    /* 背景画像指定 */
      background-size:  cover;
      position: relative;
    }

    #path-to-hubs h1,
    #path-to-VRChat h1 {
      position: absolute;
      margin: 0 auto !important;
      bottom: 20px;
    }

    #main-contents1,
    #main-contents2 {
      width: 45vw;
      min-width: 350px;
      max-width: 500px;
      
      --aug-border-bg:var(--main-color);
      --aug-inlay-bg:var(--main-color);
      --aug-inlay-opacity:0.3;
      transform-style: preserve-3d;
      margin-top: 100px;
      padding: 5px 10px;
      
    }

    #main-contents1.change_scene {
      transform-origin: -20%;
      animation: building1 6s;
      animation-iteration-count: 1;
    }

    #main-contents2.change_scene {
      transform-origin: 120%;
      animation: building2 6s;
      animation-iteration-count: 1;
    }

    #menu-button {
      background-color: rgba(255, 255, 255, 0.445);
      --aug-border-bg:var(--main-color);
      --aug-inlay-bg:var(--main-color);
      width: 6em;
      height: 6em;
      position: fixed;
      bottom: 100px;
      right: 20px;
      z-index: 3;
      display: flex;
      flex-direction: column;
      justify-content: center;
      flex-wrap:wrap;
    }

    #hex-grid {
      display: none;
      grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr;
      grid-template-rows: 1fr 1fr 1fr;
      grid-auto-columns: 1fr;
      gap: 0em 0em;
      grid-auto-flow: row;
      grid-template-areas:
        ". grid-tl grid-tl grid-tr grid-tr ."
        "grid-ml grid-ml grid-mc grid-mc grid-mr grid-mr"
        ". grid-bl grid-bl grid-br grid-br .";
      width: 60vw;
      max-width: 600px;
      height: 60vw;
      max-height: 600px;
      position: fixed;
      bottom: 20px;
      right: 20px;
      transform-style: preserve-3d;
      z-index: 2;
      transform: perspective(2000px) rotateX(30deg) rotateY(-20deg);
    }

    #grid-tl,
    #grid-tr,
    #grid-ml,
    #grid-mc,
    #grid-mr,
    #grid-bl,
    #grid-br {
      background-color: rgba(255, 255, 255, 0.445);
      --aug-border-bg:var(--main-color);
      --aug-inlay-bg:var(--main-color);
      cursor: pointer;
      display: none;

      flex-direction: column;
      justify-content: center;
      flex-wrap:wrap;
    }

    #grid-tl img,
    #grid-tr img,
    #grid-ml img,
    #grid-mc img,
    #grid-mr img,
    #grid-bl img ,
    #grid-br img {
      margin: 10px auto;
      width: 50%;
    }

    #menu-button img {
      margin: 0 auto;
      width: 40%;
    }

    .menu-description {
      margin: 0px auto;
      width: 100%;
    }

    #grid-tl { grid-area: grid-tl; }
    #grid-tr { grid-area: grid-tr; }
    #grid-ml { grid-area: grid-ml; }
    #grid-mc {
      grid-area: grid-mc;
      --aug-border-bg:rgba(0, 0, 0, 0.671);
      --aug-inlay-bg:var(--red);
    }
    #grid-mr { grid-area: grid-mr; }
    #grid-bl { grid-area: grid-bl; }
    #grid-br { grid-area: grid-br; }

    [data-augmented-ui~="all-hex"] {
      --aug_at: var(--aug-all-width, var(--aug-all-height, 100%) * 3.4641 / 4);
    }

    .wave {
      -webkit-mask-image: repeating-linear-gradient(black, black 0.5rem, rgba(0, 0, 0, 0.5) 0.75rem);
      mask-image: repeating-linear-gradient(black, black 0.5rem, rgba(0, 0, 0, 0.5) 0.75rem);
      -webkit-mask-position: center 0rem;
      mask-position: center 0rem;
    }

    @keyframes flash {
      0%, 100% {
        /* 明るく光るよう影を重ねる */
        box-shadow: 0 0 10px #ffc, 0 0 20px #ffc, 0 0 30px #ff9, 0 0 40px #ff6, 0 0 70px #fc6, 0 0 80px #f99, 0 0 100px #ff96, 0 0 150px #ff96;
      }
      50% {
        /* 淡く光るよう影を重ねる */
        box-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #ffc, 0 0 40px #ff9;
      }
    }

    @keyframes building1 {
      100% {transform: perspective(1000px) rotateX(0deg) rotateY(-360deg);}
    }

    @keyframes building2 {
      100% {transform: perspective(1000px) rotateX(0deg) rotateY(360deg);}
    }

    @keyframes retro-future-tv-lines {
      100% {
        animation-duration: 500ms;
        animation-timing-function: linear;
        animation-delay: 0s;
        animation-iteration-count: infinite;
        animation-direction: normal;
        animation-fill-mode: none;
        animation-play-state: var(--playstate, running);
        animation-name: retro-future-tv-lines;
      }
    }

    /* Animate neon flicker */
    @keyframes flicker {

      0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {

        text-shadow:
          -0.2rem -0.2rem 1rem #fff,
          0.2rem 0.2rem 1rem #fff,
          0 0 1rem var(--neon-text-color),
          0 0 1.5rem var(--neon-text-color),
          0 0 2.5rem var(--neon-text-color),
          0 0 3.5rem var(--neon-text-color),
          0 0 4.5rem var(--neon-text-color);

        box-shadow:
          0 0 .5rem #fff,
          inset 0 0 .5rem #fff,
          0 0 1rem var(--neon-border-color),
          inset 0 0 1rem var(--neon-border-color),
          0 0 2rem var(--neon-border-color),
          inset 0 0 2rem var(--neon-border-color);

      } 20%, 24%, 55% {
        text-shadow: none;
        box-shadow: none;
      }
    }

    /* Ease the transition to the load screen by displaying a default overlay */
    #preload-overlay {
      pointer-events: none;
      transition: opacity 0.5s linear;
      opacity: 1;
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      top: 0;
      background: var(--loading-screen-background, radial-gradient(50% 50% at 50% 50%, #FFFFFF 0%, #EEEEEE 100%));
    }

    #preload-overlay.loaded {
      opacity: 0;
    }

    @media (prefers-reduced-motion) {
      #preload-overlay {
        transition: none;
      }
    }

    @-webkit-keyframes bg-color {
      0% { background-color: #E74C3C; }
      20% { background-color: #FFFFFF; }
      40% { background-color: #E74C3C; }
      60% { background-color: #FFFFFF; }
      80% { background-color: #E74C3C; }
      100% { background-color: #FFFFFF; }
    }
    @keyframes bg-color {
      0% { background-color: #E74C3C; }
      20% { background-color: #FFFFFF; }
      40% { background-color: #E74C3C; }
      60% { background-color: #FFFFFF; }
      80% { background-color: #E74C3C; }
      100% { background-color: #FFFFFF; }
    }
    img {
      width: 100%;
      height: 100%;
    }

    #overlay {
      pointer-events: none;
    }
    
    #Player-UI {
      width: calc(100vw - 15px);
      height: calc(100vh - 15px);
      margin: 7.5px;
      --aug-tl1: calc(var(--UI-width) * 0.125 * 0.33);
      --aug-tl2: calc(var(--UI-width) * 0.125 * 0.33);
      --aug-tl-extend2: calc(var(--UI-width) * 0.03);
      --aug-border-all:1px;
      --aug-inlay-bg: transparent;
      color: var(--team-color);
      box-sizing: border-box;
      background-color: transparent;
      --aug-r-extend1: 60vh;
      --aug-r-inset1: -10px;
      --aug-b-extend1: 60vh;
      --aug-b-inset1: -10px;
    }

    @keyframes move {
      0% {transform: translate(0px, 0px) rotateZ(0deg)}
      25% {transform: translate(2px, 2px) rotateZ(1deg)}
      50% {transform: translate(0px, 2px) rotateZ(0deg)}
      75% {transform: translate(2px, 0px) rotateZ(-1deg)}
      100% {transform: translate(0px, 0px) rotateZ(0deg)}
    }
    .moveToRight {
      animation-name: move;
      animation-duration: 1s;
      animation-iteration-count: 1;
      animation-fill-mode: forwards;
    }

    #Player_UI_top {
      width: 100%;
      margin: 0px auto;
    }

    #life {
      content: "";
      width: calc(var(--UI-width) * 0.3);
      height: calc(var(--UI-width) * 0.075);
      --aug-tl1: calc(var(--UI-width) * 0.125 * 0.33);
      --aug-tl2: calc(var(--UI-width) * 0.125 * 0.33);
      --aug-tl-extend2: calc(var(--UI-width) * 0.03);
      --aug-br1: calc(var(--UI-width) * 0.125 * 0.33);
      --aug-br2: calc(var(--UI-width) * 0.125 * 0.33);
      --aug-br-extend2: calc(var(--UI-width) * 0.13);
      --aug-border-all:1px;
      color: var(--team-color);
      box-sizing: border-box;
      background-color: transparent;
      position: fixed;
      top: 55px;
      left: 15px;
      z-index: 3;
    }

    #life-background {
      position: absolute;
      width: 20%;
      height: 100%;
      top: 0;
      left: 0;
      content: "";
      background-color: var(--team-color);
      z-index: 2;
    }

    #life-label {
      position: absolute;
      height: calc(var(--UI-width) * 0.035);
      font-size: 2rem;
      padding: 4px 8px;
      background-color: transparent;
      color: var(--team-color);
      top: 40px;
      left: calc(var(--UI-width) * 0.125 * 0.33);
      content: "";
      z-index: 2;
      font-weight: lighter;
      text-shadow:0 0 3px #ffffff;
    }

    #Player_name {
      position: absolute;
      height: calc(var(--UI-width) * 0.035);
      font-size: 1.5rem;
      padding: 4px 8px;
      background-color: transparent;
      color: var(--team-color);
      top: calc(var(--UI-width) * 0.047 + 40px);
      left: calc(var(--UI-width) * 0.4 * 0.33);
      content: "";
      z-index: 2;
      font-weight: lighter;
      text-shadow:0 0 2px #ffffff;
      border-bottom: 1px solid var(--team-color);
    }

    #score-display {
      background-color: transparent;
      width: 100%;
      height: 40px;
      display: flex;
      justify-content: center;
      --aug-border-all:1px;
      --aug-tl: calc(var(--UI-width) * 0.125 * 0.33);
      --aug-inlay-bg: #ffffff;
      color: var(--team-color);
      box-sizing: border-box;
      position: fixed;
      top: 0;
      left: 0;
      padding: 0;
      border-bottom: 1px solid var(--team-color);
    }

    #score-display-top {
      position: absolute;
      width: 30%;
      font-size: 2rem;
      padding: 4px 8px;
      background-color: transparent;
      color: var(--team-color);
      top: 40px;
      left: 35%;
      content: "";
      z-index: 2;
      font-weight: lighter;
      text-shadow:0 0 2px #ffffff;
      text-align: center;
    }

    #time {
      position: absolute;
      font-size: 1.5rem;
      width: 30%;
      padding: 4px 8px;
      background-color: transparent;
      color: var(--team-color);
      top: calc(var(--UI-width) * 0.047 + 40px);
      left: 35%;
      content: "";
      z-index: 2;
      font-weight: lighter;
      text-shadow:0 0 2px #ffffff;
      text-align: center;
    }

    #score-display-bottom {
      position: absolute;
      width: 100%;
      height: 20px;
      bottom: 0;
      left: 0;
      content: "25ポイント先取";
    }

    #score-display div {
      margin: auto 0px;
      font-size: 3em;
    }

    #red-score {
      color: rgb(186, 7, 5);
      font-size: 2.5rem;
      text-shadow:0 0 2px #ffffff;
    }

    #Red-Progress::-webkit-progress-value {
      background-color: red;
    }

    #Red-Progress::-moz-progress-bar {
      background-color: red;
    }

    #Red-Progress::-ms-fill {
      background-color: red;
    }

    #blue-score {
      color: rgb(0, 243, 235);
      font-size: 2.5rem;
      text-shadow:0 0 2px #ffffff;
    }

    #Player_map_container {
      width: calc(var(--UI-width) * 0.2);
      max-width: calc(var(--UI-width) * 0.25);
      border: 1px solid gray;
      outline: 1px solid var(--team-color);
      position: fixed;
      top: 55px;
      right: 15px;
    }

    #Player_map {
      width: 100%;
      background-color: transparent;
      position: relative;
      z-index: 2;
    }

    #btns-wrap {
      width: 100px;
      margin: 0 auto;
      display: flex;
      justify-content: space-around;
    }

    html {
      -webkit-box-sizing: border-box;
      box-sizing: border-box;
      font-size: 62.5%;
    }

    .btn,
    a.btn,
    button.btn {
      font-size: 1.6rem;
      font-weight: 700;
      line-height: 1.5;
      position: relative;
      display: inline-block;
      padding: 1rem 4rem;
      cursor: pointer;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      -webkit-transition: all 0.3s;
      transition: all 0.3s;
      text-align: center;
      vertical-align: middle;
      text-decoration: none;
      letter-spacing: 0.1em;
      color: #212529;
      border-radius: 0.5rem;
    }

    .btn-wrap {
      margin: 0;
    }

    a.btn-c {
      font-size: 2.2rem;

      position: relative;

      padding: 0.25rem 2rem 1.5rem 3.5rem;

      color: #fff;
      background: #00e1ffc7;
      -webkit-box-shadow: 0 5px 0 #03a7bd63;
      box-shadow: 0 5px 0 #03a7bd63;
    }

    a.btn-c span {
      font-size: 1.5rem;

      position: absolute;
      top: -10px;
      left: calc(50% - 150px);

      display: block;

      width: 300px;
      padding: 0.2rem 0;

      color: #00e1ffc7;
      border: 2px solid #00e1ffc2;
      border-radius: 0.5rem;
      background: #fff;
      -webkit-box-shadow: 0 3px 3px rgba(0, 0, 0, 0.2);
      box-shadow: 0 3px 3px rgba(0, 0, 0, 0.2);
    }

    a.btn-c:hover {
      -webkit-transform: translate(0, 3px);
      transform: translate(0, 3px);

      color: #fff;
      background: #00e1ff63;
      -webkit-box-shadow: 0 2px 0 #2C9D60;
      box-shadow: 0 2px 0 #2C9D60;
    }

    a.btn-c:hover:before {
      left: 2rem;
    }
    .none {
      display: none;
    }

    .topic-1-title,
    .topic-2-title,
    .topic-3-title,
    .topic-4-title,
    .topic-5-title,
    .topic-6-title {
      font-size: 2rem;
      color: #ffffff;
      text-align: center;
      width: 100%;
      height: 100%;
      padding-top: 15px;
      background-color: rgb(97, 97, 97);
      background-image: repeating-linear-gradient(#6e6b6b 0, #6e6b6b 1.5px,rgb(97, 97, 97) 1.5px, rgb(97, 97, 97) 3px);
    }

    .topic-1 span,
    .topic-2 span,
    .topic-3 span,
    .topic-4 span,
    .topic-5 span,
    .topic-6 span {
      display: inline-block; width: 100%;color: rgb(255, 253, 108);margin-top: 10px;font-size: 2rem;
    }

    .topic-1,
    .topic-2,
    .topic-3,
    .topic-4,
    .topic-5,
    .topic-6 {
      display: none;
      padding: 25px 15px 50px 15px;
      color: #ffffff;
      font-size: 1.5rem;
    }

    .topic-1 {
      display: var(--display1);
    }

    .topic-2 {
      display: var(--display2);
    }

    .topic-3 {
      display: var(--display3);
    }

    .topic-4 {
      display: var(--display4);
    }

    .topic-5 {
      display: var(--display5);
    }

    .topic-6 {
      display: var(--display6);
    }
    
    .modal {
      position: fixed;
      width: 600px;
      max-width: 90%;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      font-size: 1.2rem;
    }

    .inner {
      width: 100%;
      height: 100%;
      background-color: rgb(255, 255, 255);
      --aug-border-all:1.5px;
    }

    .coupon_button {
      padding: 8px 15px;

    }

    #useCouponButtonContainer {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      background-color: #DFE4EA;
      padding: 10px;
    }
    .inner input {
      margin: 0 10px;
    }

    #coupon_table,
    #coupon_table2 {
      width: 95%;
      max-width: 500px;
      margin: 0 auto;
      font-size: 11px;
      border-spacing: 0px 60px;
      border-collapse: separate;
      overflow-y: scroll;
    }

    #coupon_table tr,
    #coupon_table2 tr{
      position: relative;
    }

    #coupon_table th,
    #coupon_table td,
    #coupon_table2 th,
    #coupon_table2 td {
      padding: 11px;
    }

    #coupon_table th,
    #coupon_table2 th {
      background: rgb(27, 190, 185);
      vertical-align: middle;
      text-align: left;
      overflow: visible;
      position: relative;
      color: #fff;
      font-weight: normal;
      font-size: 13px;
      position: absolute;
      top: -50px;
      left: 0;
      padding: 15px;
        --aug-border-all:  1.5px;
        --aug-border-bg:#ffffff;
        --aug-inlay-bg: transparent;
        --aug-tr: 5px;
        --aug-tl: 10px;
        --aug-br: 5px;
        --aug-tr-inset2: 60%;
    }

    #coupon_table td,
    #coupon_table2 td {
    background: #f8f8f8;
    padding: 10px;
  }

  .reticle {
    --aug-all-width: 50px;
    --reticle-color: var(--team-color);
    --reticle-size: calc(var(--aug-all-width) * 0.25);
    --aug-border-bg: radial-gradient(
      circle at top center,
      var(--reticle-color) var(--reticle-size),
      transparent var(--reticle-size)
    ), radial-gradient(
      circle at bottom 13.92% right 6.89%,
      var(--reticle-color) var(--reticle-size),
      transparent var(--reticle-size)
    ), radial-gradient(
      circle at bottom 13.92% left 6.89%,
      var(--reticle-color) var(--reticle-size),
      transparent var(--reticle-size)
    );
    transform-origin: 50% 56%;
    transform: rotateZ(0deg);
    transition: transform 0.75s ease-out, color 0.75s ease-out;
    
    pointer-events:none;
    --aug-border-all: 2px;
    position: fixed;
    top: 0;
    left: 0;
    display: none;
  }

  /*.reticle:hover {
    transform: rotateZ(120deg);
    --aug-all-width: 80px;
    --reticle-color: red;
  }*/

  .rotate120 {
    transform: rotateZ(120deg);
  }

  .extend {
    --reticle-color: red;
    transform: scale(1.5);
  }

  #mobile-img {
    animation-name:rotate;
    animation-duration:2s;
    animation-iteration-count:1;
    animation-fill-mode:forwards;
  }

  @keyframes rotate{
    0%{
      transform: rotate(0deg);
    }
    100%{
      transform: rotate(90deg);
    }
  }
  
  #orientationmessage {
    display: none;
  }

  #mobile-img {
    width: 100px;
    margin: 20px auto;
    display: flex;
    justify-content: center;
  }

  #game-progress-origin {
    position: relative;
    z-index: 1001;
    color: #ffffff;
    font-size: 6em;
    
    text-align: center;
    width: 100vw;
    height: 100vh;
    background-color: #aaaaaa;
    display: flex;
    flex-direction: column;
    justify-content: center;
    white-space: nowrap;
    letter-spacing: 6px;
    text-shadow: -4px -4px 1px yellow,4px 4px 1px var(--team-color);
    --random-blurr: 2px;
    display: none;
  }

  #game-progress-main {
    background-color: #aaaaaa;
  }

  #game-progress-cover1 {
    position: absolute;
    z-index: 2;
    top: 0;
    left: var(--random-blurr);
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    background-color: #aaaaaa;
    clip-path: polygon(0 51%, 100% 51%, 100% 52%,0 52%);
    animation:1s ease-in-out 1s infinite alternate forwards running blurred1;
  }

  #game-progress-cover2 {
    position: absolute;
    z-index: 3;
    top: 0;
    left: calc(0px - var(--random-blurr));
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    background-color: #aaaaaa;
    clip-path: polygon(0 48%, 100% 48%, 100% 49%,0 49%);
    animation:0.5s ease-in-out 2s infinite alternate forwards running blurred2;
  }

  #game-progress-sub {
    position: absolute;
    z-index: 4;
    top: 60%;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: transparent;
    text-shadow: none;
    font-size: 3rem;
  }

  @keyframes blurred1 {
    0%{
      clip-path: none;
    }
    100%{
      clip-path: polygon(0 51%, 100% 51%, 100% 52%,0 52%);
    }
  }

  @keyframes blurred2 {
    0%{
      clip-path: none;
    }
    100%{
      clip-path: polygon(0 48%, 100% 48%, 100% 49%,0 49%);
    }
  }

  #path_container {
      display:flex;
      gap: 5px 15px;
      width: 100%;
      justify-content: center;
      overflow-x: scroll;
      overflow-y: hidden;
      -ms-overflow-style: none;    /* IE, Edge 対応 */
      scrollbar-width: none;       /* Firefox 対応 */
      margin-top: 30px;
    }

    #main_container {
      display:flex;
      gap: 5px 15px;
      width: 100%;
      justify-content: center;
      overflow-x: scroll;
      overflow-y: hidden;
      -ms-overflow-style: none;    /* IE, Edge 対応 */
      scrollbar-width: none;       /* Firefox 対応 */
      margin-top: 30px;
    }

    @media (max-width: 800px) {
      #path_container {
        justify-content: flex-start;
      }
      #main_container {
        justify-content: flex-start;
      }
    }

    #path_container::-webkit-scrollbar,
    #main_container::-webkit-scrollbar {  /* Chrome, Safari 対応 */
      display:none;
    }

    #Player_Alert {
      width: 25%;
      padding: 10px 15px;
      background-color: #ffffff;
      border-radius: 8px;
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
      position: fixed;
      bottom: 50%;
      right: 0;
      font-size: 2.5rem;
      border: 2px solid var(--team-color);
      border-radius: 5px 0 0 5px;
      pointer-events: none;
    }

    #exit_button {

    }

    #aircanon_button {

    }
</style>


  
</head>

<body>
    
    <div id="support-root"></div>

    <a-scene
        webxr="optionalFeatures: dom-overlay; overlayElement:#overlay;"
        disable-resize
        embedded
        vr-mode-ui="enabled: false"
        loading-screen="enabled: false"
        hubs-systems
        capture-system
        listed-media
        local-audio-analyser
        class="grab-cursor"
        renderer="
            antialias: true;
            colorManagement: true;
            sortObjects: true;
            physicallyCorrectLights: true;
            alpha: false;
            webgl2: true;
            multiview: false;"
        shadow="type: pcfsoft;autoUpdate: false"
        networked-scene="audio: true; debug: true; connectOnLoad: false;"
        mute-mic="eventSrc: a-scene; toggleEvents: action_mute"
        action-to-event__mute="path: /actions/muteMic; event: action_mute;"
        freeze-controller
        personal-space-bubble="debug: false;"
        rotate-selected-object
        environment-map
        light="defaultLightsEnabled: false"
    >
      <div id="overlay">
        <div id="Player-Guide" style="pointer-events:all;width:100%;height: 100%; z-index: 1003;pointer-events: all;position: fixed;top: 0;left: 0;background-color: transparent;display: none;">
          <div class="guide-parts" style="top: 0;left: 0;width: 100%;height: 40px;">ゲームの進行度</div>
          <div class="guide-parts" style="top: 40px;left: 0;width: 33%;height: 20%;">残りHPとプレイヤー名</div>
          <div class="guide-parts" style="top: 40px;left: 33%;width: 33%;height: 20%;">所属チームと残り時間</div>
          <div class="guide-parts" style="top: 40px;left: 66%;width: 34%;height: 30%;">ワールドマップ</div>
          <div class="guide-parts" style="top: calc(30% + 40px);left: 0%;width: 100%;height: calc(70% - 40px);color: #ffffff;font-size: 2rem;overflow-y: auto;">
            操作説明<br><br>

            <span>スマホ</span>
            [移動]<br />
            画面左下をスワイプ<br /><br />

            [視点移動]<br />
            画面右下をスワイプ<br /><br />

            [チャット]<br />
            画面左下のメニューボタンをタップし、ポップアップメニューのチャットボタンをタップ<br>
            
            <span>スマホ(ゲーム)</span>
            [空気砲を構える/下す]<br />
            画面右上の空気砲ボタンをタップ<br /><br />

            [空気砲を放つ]<br />
            狙った場所をタップ
            
            <span>PC</span>
            [移動]<br />
            Wキー：前に移動<br />
            Sキー：後ろに移動<br />
            Aキー：左に移動<br />
            Dキー：右に移動<br /><br />

            [視点移動]<br />
            Qキー：左を向く<br />
            Eキー：右を向く<br /><br />

            [チャット]<br />
            画面左下のメニューボタンをクリックし、ポップアップメニューのチャットボタンをクリック<br><br>

            <span>PC(ゲーム)</span>
            [空気砲を構える/下す]<br />
            Pキー/画面右上の空気砲ボタンをクリック<br /><br />

            [空気砲を放つ]<br />
            狙った場所をクリック<br /><br />
          </div>
          <div class="guide-parts" style="top: calc(20% + 40px);left: 0%;width: 66%;height: 10%;color: #ffffff;font-size: 2rem;">画面をタップすると元のワールドに戻ります</div>
        </div>
        <div id="Player-UI" data-augmented-ui="bl-clip-y br-clip b-rect both" style="z-index: 1000;pointer-events: none;position: fixed;top: 0;left: 0;">
          <div id="Player_UI_top" style="display: flex; flex-direction: row;justify-content:center;width: 100%;height: 200px;background-color: transparent;background: rgb(255,255,255);background: rgb(255,255,255);background: linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(152,152,168,0) 0%, var(--team-color-sub) 10%);">
            <p id="life-label" style="display:none">HP</p>
            <p id="Player_name" style="display: none;"></p>
            <p id="score-display-top" style="display: none;"></p>
            <p id="time" style="display: none;"></p>
            <div id="life" data-augmented-ui="tl-2-clip-x br-2-clip-x border inlay">
              <div id="life-background"></div>
            </div>
    
            <div id="score-display">
              <div id="Red-Container" style="display: flex;flex-direction: row;justify-content:space-around;width: 40%;height: 100%;">
                <progress id="Red-Progress" value="0" max="25" style="width: 80%;margin: auto 0 0 0;" dir="rtl"></progress>
                <p id="red-score" style="text-align:center;margin: auto 0 0 0;">0</p>
              </div>
              <div id="Partition-Container" style="display: flex;flex-direction: column;justify-content: center;width: 15%;height: 100%;">
                <p id="score-partition" style="text-align: center;font-size: 2rem;margin: auto 0 0 0;text-shadow:0 0 2px #ffffff;"> 25点先取 </p>
              </div>
              <div id="Blue-Container" style="display: flex;flex-direction: row;justify-content:space-around;width: 40%;height: 100%;">
                <p id="blue-score" style="text-align: center;margin: auto 0 0 0;">0</p>
                <progress id="Blue-Progress" value="0" max="25" style="width: 80%;margin: auto 0 0 0;"></progress>
              </div>
            </div>
    
            <div data-augmented-ui="both" class="styleme" id="Player_map_container">
              <img id="map_img" src="assets/images/map1.png" alt="画像" style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;z-index: 1;display: block;">
              <img id="map_img2" src="assets/images/game_map1.png" alt="画像" style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;z-index: 1;display: block;">
              <img id="map_img3" src="assets/images/map2.png" alt="画像" style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;z-index: 1;display: block;">
              <img id="map_img4" src="assets/images/game_map2.png" alt="画像" style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;z-index: 1;display: block;">
              <svg id="Player_map" viewBox="0 0 128 74">
                <circle id="Player_pos" cx="0" cy="0" r="5" fill="var(--team-color)" />
              </svg>
            </div>
          </div>
    
          <div data-augmented-ui="all-hexangle-up border" class="reticle" id="reticle"></div>
    
          <input id="hit_target_container" style="display: none;" readonly></input>

          <div class="btn-wrap">
              <a id="go-to-game" class="btn btn-c" style="position: fixed;top: 10px;left: 10px;pointer-events:all;">
                  <span>シューティングゲームをプレイ！</span>
                  <br>ゲームワールドへ移動する<i class="fas fa-angle-double-right"></i>
              
              </a>
          </div>

          <div id="exit_button" style="pointer-events:all;background-color: rgba(255, 255, 255, 0.445);--aug-border-bg:var(--team-color);--aug-inlay-bg:var(--team-color);width: 6em;height: 6em;position: fixed;bottom: 10px;left: 40%;z-index: 1001;display: flex;flex-direction: column;justify-content: center;flex-wrap:wrap;" data-augmented-ui="all-hex border">
            
            <span class="menu-description">退出</span>
          </div>
          <div id="aircanon_button" style="pointer-events:all;background-color: rgba(255, 255, 255, 0.445);--aug-border-bg:var(--team-color);--aug-inlay-bg:var(--team-color);width: 6em;height: 6em;position: fixed;bottom: 10px;left: 60;z-index: 1001;display: flex;flex-direction: column;justify-content: center;flex-wrap:wrap;" data-augmented-ui="all-hex border">
            
            <span class="menu-description">空気砲</span>
          </div>

          <div id="general_menu" style="pointer-events:all;background-color: rgba(255, 255, 255, 0.445);--aug-border-bg:var(--team-color);--aug-inlay-bg:var(--team-color);width: 6em;height: 6em;position: fixed;bottom: 90px;left: 20px;z-index: 1001;display: flex;flex-direction: column;justify-content: center;flex-wrap:wrap;" data-augmented-ui="all-hex border">
            <img src="assets/images/iconmonstr-menu-1-240.png" alt="" style="display: block;margin: 0 auto;width: 40%;">
            <span class="menu-description">メニュー</span>
          </div>

          <div id="general_guide" style="pointer-events:all;background-color: rgba(255, 255, 255, 0.445);--aug-border-bg:var(--team-color);--aug-inlay-bg:var(--team-color);width: 6em;height: 6em;position: fixed;bottom: 10px;left: 20px;z-index: 1001;display: flex;flex-direction: column;justify-content: center;flex-wrap:wrap;" data-augmented-ui="all-hex border">
            <img src="assets/images/iconmonstr-tablet-5-240.png" alt="" style="display: block;margin: 0 auto;width: 40%;">
            <span class="menu-description">操作ガイド</span>
          </div>

          <!--<div class="btn-wrap" style="position: fixed;bottom: 100px;right: 20px;z-index: 1002;">
            <a id="general_menu" class="btn btn-c" style="padding:0 10px 10px 10px;pointer-events:all;">
              <span style="width: 80px;left: calc(50% - 40px);">メニュー</span>
              <br>クリックする
            </a>
          </div>-->

          <div id="Player_tips" style="position: fixed;top: 0;left: 0;width: 100vw;height: calc(100% - 120px);background-color: transparent;z-index: 1001;pointer-events: none;">
            <!--<div id="Player_tips_container">
              <h1>スコア</h1>
              <table border="1" id="RedTable">
                <thead>
                  <tr>
                    <td>プレイヤー名</td>
                    <td>ノックアウト</td>
                    <td>ダウン</td>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                <tbody>
              </table>
              <table border="1" id="BlueTable">
                <thead>
                  <tr>
                    <td>プレイヤー名</td>
                    <td>ノックアウト</td>
                    <td>ダウン</td>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                <tbody>
              </table>
            </div>-->
            
          </div>

          <div id="Player-Respawn" style="pointer-events: all; width: 100vw; height: 100vh; z-index: 1003;background-color: #ffffff96;position: fixed;top: 0;left: 0;display: none;cursor: pointer;">
            <input style="padding: 0.25rem 2rem 1.5rem 3.5rem;font-size: 2.2rem;cursor: pointer;border-radius: 0.5rem;color: #fff;background: #00e1ffc7;-webkit-box-shadow: 0 5px 0 #03a7bd63;box-shadow: 0 5px 0 #03a7bd63;position: absolute;top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 5px 10px; border: 2px solid #00e1ff63;" type="button" value="リスポーンする">
          </div>

          <div id="Game-Result" style="pointer-events: all; width: 100vw; height: 100vh; z-index: 1004;background-color: #ffffff96;position: fixed;top: 0;left: 0;display: none;">
            <h1 style="text-align: center;width: 100%;margin: 40px auto;">勝利！！</h1>
            <input id="Game-Restart" style="padding: 0.25rem 2rem 1.5rem 3.5rem;font-size: 2.2rem;cursor: pointer;border-radius: 0.5rem;color: #fff;background: #00e1ffc7;-webkit-box-shadow: 0 5px 0 #03a7bd63;box-shadow: 0 5px 0 #03a7bd63;position: absolute;top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 5px 10px; border: 2px solid #00e1ff63;" type="button" value="次のゲームを始める">
          </div>

          <div id="Player_Alert" style="display: none;"></div>
        </div>

        <div id="game-progress-origin">
          <span id="game-progress-main">Game Start</span>
          <span id="game-progress-cover1">
            Game Start
          </span>
          <span id="game-progress-cover2">
            Game Start
          </span>
          <span id="game-progress-sub">
            
          </span>
        </div>
    
        <div class="modal" id="orientationmessage" style="z-index: 10;">
          <div class="inner styleme" data-augmented-ui="tl-clip-x br-clip border" style="padding-top: 20px;">
            <img src="assets/images/iconmonstr-smartphone-3-240.png" alt="画像" id="mobile-img">
            <p style="text-align: center;padding: 10px 0;background-color: yellow;">端末を横向きにしてお使いください。</p>
          </div>
        </div>
      </div>
        
        <a-assets>
            <img id="presence-count" crossorigin="anonymous" src="./assets/hud/presence-count.png">
            <img id="action-button" crossorigin="anonymous" src="./assets/hud/action_button.9.png">
            <img id="button" crossorigin="anonymous" src="./assets/hud/button.9.png">

            <a-asset-item id="drawing-pen" response-type="arraybuffer" src="./assets/models/DrawingPen.glb"></a-asset-item>
            <a-asset-item id="spawn-point" response-type="arraybuffer" src="./assets/models/spawn-point.glb"></a-asset-item>

            <template id="template-waypoint-avatar">
                <a-entity waypoint></a-entity>
            </template>

            <template id="occupiable-waypoint-icon">
                <a-entity
                    is-remote-hover-target
                    class="occupiable-waypoint-icon"
                    tags="singleActionButton: true"
                    sprite="name: spawn-point.png">
                </a-entity>
            </template>
            <template id="teleport-waypoint-icon">
                <a-entity
                    is-remote-hover-target
                    class="teleport-waypoint-icon"
                    tags="singleActionButton: true"
                    sprite="name: spawn-point.png">
                </a-entity>
            </template>
            <template id="waypoint-preview-avatar-template">
                <a-entity
                    overwrite-raycast-as-noop
                    class="waypoint-preview-avatar"
                    gltf-model-plus="inflate: true; src: #spawn-point;">
                </a-entity>
            </template>
            <template id="remote-avatar">
                <a-entity tags="inspectable: true; preventAudioBoost: true" inspect-pivot-child-selector="selector:.inspect-pivot" networked-avatar ik-root player-info matrix-auto-update visible="false">
                    <a-entity class="camera" matrix-auto-update>
                      <a-entity class="inspect-pivot" inspect-pivot-offset-from-camera></a-entity>
                      <a-box 
                      position="0 0 0"
                      rotation="0 0 0"
                      color= "transparent"
                      opacity="0.4"
                      scale="1 1 1"
                      visible="true"
                      class="collidable"
                      >
                      </a-box>
                      <!--<a-entity 
                        class="aircanon"
                        matrix-auto-update
                        aircanon-animation
                        >
                      </a-entity>-->
                      
                      <a-entity 
                        class="sanshakudama"
                        matrix-auto-update
                        hanabi-animation
                        id="HANABI"
                        scale="0.4 0.4 0.4">
                      </a-entity>

                      <a-entity 
                      class="aircanon"
                      matrix-auto-update
                      aircanon-animation
                      id="AIRCANON"
                      >
                    </a-entity>
                    </a-entity>

                    

                    <a-entity class="left-controller" matrix-auto-update></a-entity>

                    <a-entity class="right-controller" matrix-auto-update></a-entity>

                    <a-entity class="model" gltf-model-plus="inflate: true">
                        <template data-name="AvatarRoot">
                            <a-entity
                                ik-controller
                                hand-pose__left
                                hand-pose__right
                                networked-audio-analyser
                            ></a-entity>
                        </template>

                        <template data-name="Neck">
                            <a-entity tags="ignoreSpaceBubble: true;">
                                <a-entity
                                    billboard
                                    class="nametag"
                                    text="side: double; align: center; color: 'rgb(27, 190, 185)'"
                                    position="0 1 0"
                                    scale="6 6 6"
                                ></a-entity>
                                <a-entity
                                    billboard
                                    class="identityName"
                                    text="side: double; align: center; color: #ddd"
                                    visibility-while-frozen="withinDistance: 100; requireHoverOnNonMobile: false;"
                                    position="0 0.8 0"
                                    scale="3 3 3"
                                ></a-entity>
                                <a-entity
                                    billboard
                                    is-not-remote-hover-target
                                    class="recordingBadge"
                                    sprite="name: recording-badge.png"
                                    scale="0.10 0.10 0.10"
                                    position="0 1.2 -0.02"
                                ></a-entity>
                                <a-entity
                                    billboard
                                    is-not-remote-hover-target
                                    class="modBadge"
                                    sprite="name: mod-badge.png"
                                    scale="0.10 0.10 0.10"
                                    position="0 1.2 -0.02"
                                ></a-entity>
                            </a-entity>
                        </template>

                        <template data-name="Spine">
                            <a-entity is-remote-hover-target personal-space-invader="radius: 0.2; useMaterial: true;" bone-visibility>
                                <a-entity class="avatar-inspect-collider" avatar-inspect-collider tags="togglesHoveredActionSet: true; ignoreSpaceBubble: true;" is-remote-hover-target inspect-button></a-entity>
                                <a-entity class="chest-image" scale="0.18 0.18 0.18" position="0 -0.025 0.13"></a-entity>
                                <a-entity tags="ignoreSpaceBubble: true;" class="interactable ui interactable-ui">
                                    <a-entity billboard class="freeze-menu" visibility-while-frozen="withinDistance: 100; requireHoverOnNonMobile: false;" avatar-volume-controls>
                                        <a-entity class="avatar-volume-label" text="value: 0%; anchor: center; align: center; color: #ff3464; letterSpacing: 4; width:1.5;" text-raycast-hack position="0.0 0.675 0.35" scale="1.25 1.25 1.25"></a-entity>
                                        <a-entity mixin="rounded-button" is-remote-hover-target tags="singleActionButton: true;" position="-0.45 0.675 0.35" class="avatar-volume-down-button">
                                            <a-entity text="value: -; anchor: center; align: center; color: #ccc; letterSpacing: 4; width: 2.5;" text-raycast-hack position="0 0 0.001" scale="0.85 0.85 0.85"></a-entity>
                                        </a-entity>
                                        <a-entity mixin="rounded-button" is-remote-hover-target tags="singleActionButton: true;" position="0.45 0.675 0.35" class="avatar-volume-up-button">
                                            <a-entity text="value: +; anchor: center; align: center; color: #ccc; letterSpacing: 4; width: 2.5;" text-raycast-hack position="0 0 0.001" scale="0.85 0.85 0.85"></a-entity>
                                        </a-entity>
                                        <a-entity is-remote-hover-target tags="singleActionButton:true;" mixin="rounded-text-button" block-button position="0 0 .35">
                                            <a-entity text="value:Hide; width:2.5; align:center;" text-raycast-hack position="0 0 0.001"></a-entity>
                                        </a-entity>
                                        <a-entity is-remote-hover-target tags="singleActionButton:true;" mixin="rounded-text-button" visible-if-permitted="mute_users" mute-button position="0 -0.3 .35" scale="0.8 0.8 0.8">
                                            <a-entity text="value:Mute; width:2.5; align:center;" text-raycast-hack visible-if-permitted="mute_users" position="0 0 0.001"></a-entity>
                                        </a-entity>
                                        <a-entity is-remote-hover-target tags="singleActionButton:true;" mixin="rounded-text-button" visible-if-permitted="kick_users" kick-button position="0 -0.5 .35" scale="0.8 0.8 0.8">
                                            <a-entity text="value:Kick; width:2.5; align:center;" text-raycast-hack visible-if-permitted="kick_users" position="0 0 0.001"></a-entity>
                                        </a-entity>
                                        <a-entity is-remote-hover-target tags="singleActionButton:true;" mixin="rounded-text-button" camera-focus-button="track: false; selector: .Head;" position="-0.40 0.375 0.35">
                                            <a-entity text=" value:focus; width:1.75; align:center;" text-raycast-hack position="0.075 0 0.02"></a-entity>
                                            <a-entity
                                                sprite
                                                icon-button="image: camera-action.png; hoverImage: camera-action.png;"
                                                scale="0.165 0.165 0.165"
                                                position="-0.125 0.005 0.02"
                                            ></a-entity>
                                        </a-entity>
                                        <a-entity is-remote-hover-target tags="singleActionButton:true;" mixin="rounded-text-button" camera-focus-button="track: true; selector: .Head;" position="0.40 0.375 0.35">
                                            <a-entity text=" value:track; width:1.75; align:center;" text-raycast-hack position="0.075 0 0.02"></a-entity>
                                            <a-entity
                                                sprite
                                                icon-button="image: camera-action.png; hoverImage: camera-action.png;"
                                                scale="0.165 0.165 0.165"
                                                position="-0.125 0.005 0.001"
                                            ></a-entity>
                                        </a-entity>
                                    </a-entity>
                                </a-entity>
                            </a-entity>
                        </template>

                        <template data-name="Head">
                            <a-entity
                                avatar-audio-source="rolloffFactor: 2.0;"
                                personal-space-invader="radius: 0.15; useMaterial: true;"
                                bone-visibility
                                body-helper="type: kinematic; collisionFilterGroup: 4; collisionFilterMask: 1;"
                                shape-helper="type: cylinder; fit: manual; halfExtents: 0.11 0.10 0.11; offset: 0 0.06 0.04;"
                            ></a-entity>
                        </template>

                        <template data-name="LeftHand">
                            <a-entity personal-space-invader="radius: 0.1" bone-visibility="updateWhileInvisible: true;"></a-entity>
                        </template>

                        <template data-name="RightHand">
                            <a-entity personal-space-invader="radius: 0.1" bone-visibility="updateWhileInvisible: true;"></a-entity>
                        </template>
                    </a-entity>
                </a-entity>
            </template>

            <template id="static-media">
                <a-entity
                    body-helper="type: static; mass: 1; collisionFilterGroup: 1; collisionFilterMask: 1;"
                >
                </a-entity>
            </template>

            <template id="static-controlled-media">
                <a-entity
                    class="interactable"
                    body-helper="type: static; mass: 1; collisionFilterGroup: 1; collisionFilterMask: 1;"
                    is-remote-hover-target
                    position-at-box-shape-border__freeze="target:.freeze-menu;"
                    tags="isStatic: true; togglesHoveredActionSet: true; inspectable: true;"
                    listed-media
                >
                    <a-entity class="freeze-menu" visibility-while-frozen="withinDistance: 100;">
                        <a-entity mixin="rounded-text-button ui"
                            is-remote-hover-target
                            tags="singleActionButton: true; isHoverMenuChild: true;"
                            local-refresh-media-button
                            position="0 -0.6 0.001"
                        >
                            <a-entity text="value:refresh; width:1.75; align:center;"
                                text-raycast-hack
                                position="0 0 0.02">
                            </a-entity>
                        </a-entity>
                        <a-entity is-remote-hover-target tags="singleActionButton:true;" mixin="rounded-text-button" open-media-button="onlyOpenLink: true" position="0 -0.25 0.001">
                            <a-entity text="value:open link; width:1.75; align:center;" text-raycast-hack position="0 0 0.02"></a-entity>
                        </a-entity>
                        <a-entity
                            mixin="rounded-action-button"
                            is-remote-hover-target
                            tags="singleActionButton:true;"
                            mirror-media-button
                            visibility-on-content-types="contentTypes: video/ audio/ image/ application/vnd.apple.mpegurl application/x-mpegurl application/pdf;"
                            position="0 0 0.001">
                            <a-entity
                                sprite
                                icon-button="image: inspect-action.png; hoverImage: inspect-action.png"
                                scale="0.165 0.165 0.165"
                                position="0 0 0.001"
                            ></a-entity>
                        </a-entity>
                        <a-entity
                            mixin="rounded-button"
                            tags="isHoldable: true; holdableButton: true;"
                            is-remote-hover-target
                            inspect-button
                            position="0 0.25 0.001">
                            <a-entity
                                sprite
                                icon-button="image: focus-action.png; hoverImage: focus-action.png"
                                scale="0.165 0.165 0.165"
                                position="0 0 0.001"
                            ></a-entity>
                        </a-entity>
                    </a-entity>
                </a-entity>
            </template>

            <template id="interactable-media">
                <a-entity
                    class="interactable"
                    body-helper="type: dynamic; mass: 1; collisionFilterGroup: 1; collisionFilterMask: 15;"
                    owned-object-limiter="counter: #media-counter"
                    set-unowned-body-kinematic
                    is-remote-hover-target
                    tags="isHandCollisionTarget: true; isHoldable: true; offersHandConstraint: true; offersRemoteConstraint: true; inspectable: true;"
                    destroy-at-extreme-distances
                    scalable-when-grabbed
                    floaty-object="modifyGravityOnRelease: true; autoLockOnLoad: true;"
                    set-yxz-order
                    matrix-auto-update
                    hoverable-visuals
                    position-at-border__freeze="target:.freeze-menu"
                    position-at-border__freeze-unprivileged="target:.freeze-unprivileged-menu"
                    listed-media
                    use-audio-system-settings
                >
                    <a-entity class="ui interactable-ui">
                        <a-entity class="freeze-menu" visibility-while-frozen="withinDistance: 100; withPermission: spawn_and_move_media">
                            <a-entity
                                mixin="rounded-text-action-button"
                                is-remote-hover-target
                                tags="singleActionButton:true"
                                pin-networked-object-button="tipSelector:.pin-button-tip; labelSelector:.pin-button-label;"
                                position="0 0.125 0.001">
                                <a-entity
                                    class="pin-button-label"
                                    visible="false"
                                    text=" value:pin; width:1.75; align:center;"
                                    text-raycast-hack
                                    position="0 0 0.001">
                                </a-entity>
                            </a-entity>
                            <a-entity
                                class="pin-button-tip"
                                text="value:Pinning will broadcast this object to Discord.; width:1.75; align:center; color:#fff;"
                                visible="false"
                                text-raycast-hack
                                slice9="
                                    color: #0F40A9;
                                    width: 1.8;
                                    height: 0.2;
                                    left: 64;
                                    top: 64;
                                    right: 66;
                                    bottom: 66;
                                    opacity: 1.0;
                                    src: #button"
                                position="0 0.6 0.001">
                            </a-entity>
                            <a-entity is-remote-hover-target tags="singleActionButton:true;" mixin="rounded-text-button" camera-focus-button="track: false" position="-0.25 0.375 0.001">
                                <a-entity text=" value:focus; width:1.75; align:center;" text-raycast-hack position="0.075 0 0.02"></a-entity>
                                <a-entity
                                    sprite
                                    icon-button="image: camera-action.png; hoverImage: camera-action.png;"
                                    scale="0.165 0.165 0.165"
                                    position="-0.125 0.005 0.02"
                                ></a-entity>
                            </a-entity>
                            <a-entity is-remote-hover-target tags="singleActionButton:true;" mixin="rounded-text-button" camera-focus-button="track: true" position="0.25 0.375 0.001">
                                <a-entity text=" value:track; width:1.75; align:center;" text-raycast-hack position="0.075 0 0.02"></a-entity>
                                <a-entity
                                    sprite
                                    icon-button="image: camera-action.png; hoverImage: camera-action.png;"
                                    scale="0.165 0.165 0.165"
                                    position="-0.125 0.005 0.001"
                                ></a-entity>
                            </a-entity>
                            <a-entity
                                mixin="rounded-button"
                                is-remote-hover-target
                                tags="singleActionButton: true;"
                                hide-when-pinned-and-forbidden="whenPinned: true"
                                remove-networked-object-button
                                position="0 -0.375 0.001">
                                <a-entity
                                    sprite="name: remove-action.png"
                                    icon-button="image: remove-action.png; hoverImage: remove-action.png"
                                    scale="0.165 0.165 0.165"
                                    position="0 0 0.001"
                                ></a-entity>
                            </a-entity>
                            <a-entity visibility-on-content-types="contentTypes: video/ audio/ image/ application/vnd.apple.mpegurl application/x-mpegurl application/pdf; visible: false;">
                                <a-entity
                                    mixin="rounded-button"
                                    is-remote-hover-target
                                    tags="singleActionButton: true;"
                                    drop-object-button
                                    hide-when-pinned-and-forbidden="whenPinned: true"
                                    position="0 -0.625 0.001">
                                    <a-entity
                                        sprite
                                        icon-button="image: drop-action.png; hoverImage: drop-action.png"
                                        scale="0.165 0.165 0.165"
                                        position="0 0 0.001"
                                    ></a-entity>
                                </a-entity>
                            </a-entity>
                            <a-entity
                                mixin="rounded-button"
                                is-remote-hover-target
                                tags="isHoldable: true; holdableButton: true;"
                                inspect-button
                                visibility-on-content-types="contentTypes: video/ audio/ image/ application/vnd.apple.mpegurl application/x-mpegurl application/pdf;"
                                position="0 -0.625 0.001">
                                <a-entity
                                    sprite
                                    icon-button="image: focus-action.png; hoverImage: focus-action.png"
                                    scale="0.165 0.165 0.165"
                                    position="0 0 0.001"
                                ></a-entity>
                            </a-entity>
                            <a-entity
                                class="deserialize-drawing"
                                visible="false"
                                mixin="rounded-button"
                                is-remote-hover-target
                                tags="singleActionButton: true;"
                                deserialize-drawing-button
                                position="-0.3 -0.625 0.001">
                                <a-entity
                                    sprite
                                    icon-button="image: deserialize-action.png; hoverImage: deserialize-action.png"
                                    scale="0.165 0.165 0.165"
                                    position="0 0 0.001"
                                ></a-entity>
                            </a-entity>
                            <a-entity is-remote-hover-target tags="singleActionButton:true;" mixin="rounded-text-button" open-media-button="onlyOpenLink: true" position="0.43 -0.375 0.001">
                                <a-entity text="value:open link; width:1.75; align:center;" text-raycast-hack position="0 0 0.02"></a-entity>
                            </a-entity>
                            <a-entity mixin="rounded-text-button ui"
                                is-remote-hover-target
                                tags="singleActionButton: true; isHoverMenuChild: true;"
                                local-refresh-media-button
                                position="0.43 -0.6 0.001"
                            >
                                <a-entity text="value:refresh; width:1.75; align:center;"
                                    text-raycast-hack
                                    position="0 0 0.02">
                                </a-entity>
                            </a-entity>
                            <a-entity is-remote-hover-target tags="singleActionButton:true;" mixin="rounded-text-button" clone-media-button position="-0.43 -0.375 0.001">
                                <a-entity text="value:clone; width:1.75; align:center;" text-raycast-hack position="0 0 0.02"></a-entity>
                            </a-entity>
                            <a-entity
                                mixin="rounded-action-button"
                                tags="isHoldable: true; holdableButton: true;"
                                is-remote-hover-target
                                transform-button
                                transform-button-selector
                                hide-when-pinned-and-forbidden
                                position="-0.3 -0.125 0.001">
                                <a-entity
                                    sprite
                                    icon-button="image: rotate-action.png; hoverImage: rotate-action.png;"
                                    scale="0.165 0.165 0.165"
                                    position="0 0 0.001"
                                ></a-entity>
                            </a-entity>
                            <a-entity
                                mixin="rounded-action-button"
                                is-remote-hover-target
                                tags="singleActionButton:true;"
                                mirror-media-button
                                visibility-on-content-types="contentTypes: video/ audio/ image/ application/vnd.apple.mpegurl application/x-mpegurl application/pdf;"
                                position="0 -0.125 0.001">
                                <a-entity
                                    sprite
                                    icon-button="image: inspect-action.png; hoverImage: inspect-action.png"
                                    scale="0.165 0.165 0.165"
                                    position="0 0 0.001"
                                ></a-entity>
                            </a-entity>
                            <a-entity
                                mixin="rounded-action-button"
                                tags="isHoldable: true; holdableButton: true;"
                                is-remote-hover-target
                                scale-button
                                hide-when-pinned-and-forbidden
                                position="0.3 -0.125 0.001">
                                <a-entity
                                    sprite
                                    icon-button="image: scale-action.png; hoverImage: scale-action.png"
                                    scale="0.165 0.165 0.165"
                                    position="0 0 0.001"
                                ></a-entity>
                            </a-entity>
                        </a-entity>
                        <a-entity class="freeze-unprivileged-menu" visibility-while-frozen="withinDistance: 100; withoutPermission: spawn_and_move_media;">
                            <a-entity mixin="rounded-text-button ui"
                                is-remote-hover-target
                                tags="singleActionButton: true; isHoverMenuChild: true;"
                                local-refresh-media-button
                                position="0 -0.6 0.001"
                            >
                                <a-entity text="value:refresh; width:1.75; align:center;"
                                    text-raycast-hack
                                    position="0 0 0.02">
                                </a-entity>
                            </a-entity>
                            <a-entity is-remote-hover-target tags="singleActionButton:true;" mixin="rounded-text-button" open-media-button="onlyOpenLink: true" position="0 -0.25 0.001">
                                <a-entity text="value:open link; width:1.75; align:center;" text-raycast-hack position="0 0 0.02"></a-entity>
                            </a-entity>
                            <a-entity
                                mixin="rounded-action-button"
                                is-remote-hover-target
                                tags="singleActionButton:true;"
                                mirror-media-button
                                visibility-on-content-types="contentTypes: video/ audio/ image/ application/vnd.apple.mpegurl application/x-mpegurl application/pdf;"
                                position="0 0 0.001">
                                <a-entity
                                    sprite
                                    icon-button="image: inspect-action.png; hoverImage: inspect-action.png"
                                    scale="0.165 0.165 0.165"
                                    position="0 0 0.001"
                                ></a-entity>
                            </a-entity>
                            <a-entity
                                mixin="rounded-button"
                                tags="isHoldable: true; holdableButton: true;"
                                is-remote-hover-target
                                inspect-button
                                position="0 0.25 0.001">
                                <a-entity
                                    sprite
                                    icon-button="image: focus-action.png; hoverImage: focus-action.png"
                                    scale="0.165 0.165 0.165"
                                    position="0 0 0.001"
                                ></a-entity>
                            </a-entity>
                        </a-entity>
                    </a-entity>
                </a-entity>
            </template>

            <template id="interactable-emoji">
                <a-entity
                    class="interactable"
                    emoji
                    body-helper="type: dynamic; mass: 1; collisionFilterGroup: 1; collisionFilterMask: 15;"
                    owned-object-limiter="counter: #emoji-counter"
                    owned-object-cleanup-timeout="ttl: 3;"
                    set-unowned-body-kinematic
                    is-remote-hover-target
                    tags="isHandCollisionTarget: true; isHoldable: true; offersHandConstraint: true; offersRemoteConstraint: true; inspectable: true;"
                    destroy-at-extreme-distances
                    scalable-when-grabbed
                    floaty-object="modifyGravityOnRelease: true; autoLockOnLoad: true;"
                    set-yxz-order
                    matrix-auto-update
                    position-at-border__freeze="target:.freeze-menu;"
                    hoverable-visuals
                >
                    <a-entity
                        class="particle-emitter"
                        particle-emitter="particleCount: 0"
                        scale="0.25 0.25 0.25"
                        position="0 0.25 -0.001"
                    ></a-entity>
                    <a-entity class="ui interactable-ui">
                        <a-entity class="freeze-menu" visibility-while-frozen="withinDistance: 100; withPermission: spawn_and_move_media; visibleIfOwned: false;">
                            <a-entity
                                mixin="rounded-button"
                                is-remote-hover-target
                                tags="singleActionButton: true;"
                                hide-when-pinned-and-forbidden="whenPinned: true"
                                remove-networked-object-button
                                position="0 -0.375 0.001">
                                <a-entity
                                    sprite="name: remove-action.png"
                                    icon-button="image: remove-action.png; hoverImage: remove-action.png"
                                    scale="0.165 0.165 0.165"
                                    position="0 0 0.001"
                                ></a-entity>
                            </a-entity>
                        </a-entity>
                    </a-entity>
                </a-entity>
            </template>

            <template id="interactable-media-frame">
                <!--
                    note we intentionally don't setup the shape or media-frame here since they both don't support dynamic updates
                    and so must be configured when creating the entity on each client. Since we only support media frames in scenes
                    for now, this is acceptable, but TODO this will need to be handled if we want to dynamically spawn them.
                -->
                <a-entity body-helper="type: kinematic; collisionFilterGroup: 16; collisionFilterMask: 1; disableCollision: true;" >
                </a-entity>
            </template>


            <template id="linked-media">
                <a-entity
                    class="interactable"
                    body-helper="type: dynamic; mass: 1; collisionFilterGroup: 1; collisionFilterMask: 15;"
                    is-remote-hover-target
                    tags="togglesHoveredActionSet: true; inspectable: true;"
                    set-unowned-body-kinematic
                    set-yxz-order
                    matrix-auto-update
                >
                    <a-entity class="ui interactable-ui">
                    </a-entity>
                </a-entity>
            </template>

            <template id="interactable-pen">
                <a-entity
                    class="pen interactable"
                    body-helper="type: dynamic; mass: 0.001; collisionFilterGroup: 1; collisionFilterMask: 15; gravity: 0 0 0;"
                    gltf-model-plus="src: #drawing-pen; inflate: true;"
                    owned-object-limiter="counter: #pen-counter"
                    set-unowned-body-kinematic
                    is-remote-hover-target
                    tags="isHandCollisionTarget: true; isHoldable: true; offersHandConstraint: true; offersRemoteConstraint: true; isPen: true;"
                    floaty-object="modifyGravityOnRelease: true; autoLockOnLoad: true; gravitySpeedLimit: 0; reduceAngularFloat: true;"
                    matrix-auto-update
                    scale="0 0 0"
                    action-to-remove__pen="path: /actions/pen/remove;"
                    position-at-border="target:.pen-menu"
                    set-yxz-order
                    position="0 1 -1"
                >
                
                    <a-entity
                      id="pen"
                      pen="camera: #avatar-pov-node; drawingManager: #drawing-manager"
                      pen-laser
                      position="0 -0.18 0"
                      matrix-auto-update 
                    >
                    </a-entity>

                    
                    
                    <a-entity class="ui delete-button pen-menu" visibility-while-frozen="withinDistance: 100; withPermission: spawn_drawing" >
                        <a-entity mixin="rounded-button" is-remote-hover-target tags="singleActionButton: true" remove-networked-object-button position="0 0 0.001">
                            <a-entity
                                sprite
                                icon-button="image: remove-action.png; hoverImage: remove-action.png;"
                                scale="0.165 0.165 0.165"
                                position="0 0 0.001"
                            ></a-entity>
                        </a-entity>
                    </a-entity>
                </a-entity>
            </template>

            <template id="interactable-camera">
                <a-entity
                    class="interactable"
                    body-helper="type: dynamic; mass: 0.001; collisionFilterGroup: 1; collisionFilterMask: 8;"
                    camera-tool
                    is-remote-hover-target
                    tags="isHandCollisionTarget: true; isHoldable: true; offersHandConstraint: true; offersRemoteConstraint: true;"
                    matrix-auto-update
                    shape-helper="type: box; fit: manual; halfExtents: 0.22 0.14 0.1; offset: 0 0.02 0;"
                    floaty-object="autoLockOnRelease: true; autoLockOnLoad: true;"
                    owned-object-limiter="counter: #camera-counter"
                    set-unowned-body-kinematic
                    scalable-when-grabbed
                    position-at-border="target:.camera-menu; isFlat: true"
                    set-yxz-order
                >
                    <a-entity class="ui interactable-ui camera-snap-menu" visible-if-permitted="spawn_camera">
                        <a-entity
                            class="label"
                            text="value: text; align: center; color: #fafafa"
                            position="0 0.15 0.081"
                            scale="1.95 1.95 1.95"
                        ></a-entity>
                        <a-entity class="label-action-background" mixin="rounded-action-button" is-remote-hover-target tags="singleActionButton: true;" position="0 0.15 0.08" scale="0.75 0.75 0.75">
                        </a-entity>
                        <a-entity class="label-background" mixin="rounded-button" is-remote-hover-target tags="singleActionButton: true;" position="0 0.15 0.08" scale="0.75 0.75 0.75">
                        </a-entity>
                        <a-entity
                            class="duration"
                            text="value: 5s; align: center; color: #fafafa"
                            position="0 -0.15 0.09"
                            scale="1.9 1.9 1.9"
                        ></a-entity>
                        <a-entity class="snap-button" mixin="rounded-action-button" is-remote-hover-target tags="singleActionButton: true;" position="0 0.15 0.08" scale="0.75 0.75 0.75">
                            <a-entity
                                sprite class="snap-icon"
                                icon-button="image: snap_camera.png; hoverImage: snap_camera.png;"
                                scale="0.2 0.2 0.2"
                                position="0 0.002 0.001"
                            ></a-entity>
                        </a-entity>
                        <a-entity class="record-button" mixin="rounded-action-button" is-remote-hover-target tags="singleActionButton: true;" position="0 -0.15 0.075" scale="0.75 0.75 0.75">
                            <a-entity
                                sprite class="record-icon"
                                icon-button="image: record-action.png; hoverImage: record-action.png;"
                                scale="0.175 0.175 0.175"
                                position="0 0 0.001"
                            ></a-entity>
                            <a-entity
                                sprite class="record-alpha-icon"
                                icon-button="image: record-action-alpha.png; hoverImage: record-action-alpha.png;"
                                scale="0.175 0.175 0.175"
                                position="0 0 0.001"
                            ></a-entity>
                        </a-entity>
                        <a-entity class="cancel-button" mixin="rounded-button" is-remote-hover-target tags="singleActionButton: true;" position="0 -0.15 0.075" scale="0.65 0.65 0.65">
                            <a-entity
                                sprite
                                icon-button="image: close-action.png; hoverImage: close-action.png;"
                                scale="0.075 0.075 0.075"
                                position="0 0 0.001"
                            ></a-entity>
                        </a-entity>
                        <a-entity class="prev-duration" mixin="rounded-button" is-remote-hover-target tags="singleActionButton: true;" position="-0.135 -0.15 0.075" scale="0.5 0.5 0.5">
                            <a-entity
                                sprite
                                icon-button="image: prev.png; hoverImage: prev.png;"
                                scale="0.075 0.075 0.075"
                                position="0 0 0.001"
                            ></a-entity>
                        </a-entity>
                        <a-entity class="next-duration" mixin="rounded-button" is-remote-hover-target tags="singleActionButton: true;" position="0.135 -0.15 0.075" scale="0.5 0.5 0.5">
                            <a-entity
                                sprite
                                icon-button="image: next.png; hoverImage: next.png;"
                                scale="0.075 0.075 0.075"
                                position="0 0 0.001"
                            ></a-entity>
                        </a-entity>
                        <a-entity class="stop-button" mixin="rounded-action-button" is-remote-hover-target tags="singleActionButton: true;" position="0 0.15 0.08" scale="0.75 0.75 0.75">
                            <a-entity
                                sprite class="stop-icon"
                                icon-button="image: stop-action.png; hoverImage: stop-action.png;"
                                scale="0.125 0.125 0.125"
                                position="0 0 0.001"
                            ></a-entity>
                        </a-entity>
                    </a-entity>
                    <a-entity class="ui interactable-ui camera-menu" visibility-while-frozen="withinDistance: 100; withPermission: spawn_camera">
                        <a-entity mixin="rounded-action-button" class="capture-audio" is-remote-hover-target tags="singleActionButton: true;" position="0 0.125 0.001">
                            <a-entity sprite class="capture-audio-icon"
                                icon-button="image: unmute-action.png; hoverImage: unmute-action.png; activeImage: mute-action.png; activeHoverImage: mute-action.png"
                                scale="0.165 0.165 0.165"
                                position="0 0 0.001"
                            ></a-entity>
                        </a-entity>
                        <a-entity mixin="rounded-action-button" is-remote-hover-target tags="singleActionButton: true;" transform-button="mode: align;" position="-0.15 -0.125 0.001">
                            <a-entity
                                sprite
                                icon-button="image: recenter-action.png; hoverImage: recenter-action.png;"
                                scale="0.165 0.165 0.165"
                                position="0 0 0.001"
                            ></a-entity>
                        </a-entity>
                        <a-entity mixin="rounded-action-button" is-remote-hover-target tags="isHoldable: true; holdableButton: true;" transform-button transform-button-selector position="0.15 -0.125 0.001">
                            <a-entity
                                sprite
                                icon-button="image: rotate-action.png; hoverImage: rotate-action.png;"
                                scale="0.165 0.165 0.165"
                                position="0 0 0.001"
                            ></a-entity>
                        </a-entity>
                        <a-entity mixin="rounded-button" is-remote-hover-target tags="singleActionButton: true" remove-networked-object-button position="0 -0.350 0.001">
                            <a-entity
                                sprite
                                icon-button="image: remove-action.png; hoverImage: remove-action.png;"
                                scale="0.165 0.165 0.165"
                                position="0 0 0.001"
                            ></a-entity>
                        </a-entity>
                    </a-entity>
                </a-entity>
            </template>

            <template id="interactable-drawing">
                <a-entity
                    class="drawing"
                    networked-drawing
                    is-remote-hover-target
                >
                    <a-entity class="ui drawing-menu" visible="false">
                        <a-entity mixin="rounded-button" is-remote-hover-target tags="singleActionButton: true" position="0.075 0.125 0.001" class="undo-drawing">
                            <a-entity
                                sprite
                                icon-button="image: undo-action.png; hoverImage: undo-action.png;"
                                scale="0.165 0.165 0.165"
                                position="0 0 0.001"
                            ></a-entity>
                        </a-entity>
                        <a-entity mixin="rounded-button" is-remote-hover-target tags="singleActionButton: true" position="0.075 -0.125 0.001" class="delete-drawing">
                            <a-entity
                                sprite
                                icon-button="image: remove-action.png; hoverImage: remove-action.png;"
                                scale="0.165 0.165 0.165"
                                position="0 0 0.001"
                            ></a-entity>
                        </a-entity>
                        <a-entity mixin="rounded-button" is-remote-hover-target tags="singleActionButton: true" position="-0.125 0 0.001" class="serialize-drawing">
                            <a-entity
                                sprite
                                icon-button="image: serialize-action.png; hoverImage: serialize-action.png;"
                                scale="0.165 0.165 0.165"
                                position="0 0 0.001"
                            ></a-entity>
                        </a-entity>
                    </a-entity>
                </a-entity>
            </template>

            <template id="pager-hover-menu">
                <a-entity class="ui interactable-ui hover-container" visible="false">
                    <a-entity class="prev-button" position="-0.35 0 0">
                        <a-entity is-remote-hover-target tags="singleActionButton:true; isHoverMenuChild: true;" mixin="rounded-text-button" slice9="width: 0.2">
                            <a-entity
                                sprite
                                icon-button="image: prev.png; hoverImage: prev.png;"
                                scale="0.075 0.075 0.075"
                                position="0 0 0.001"
                            ></a-entity>
                        </a-entity>
                    </a-entity>
                    <a-entity class="page-label" position="0 -0.2 0" text="value:.; width:2; align:center;" text-raycast-hack></a-entity>
                    <a-entity class="snap-button" position="0 0.175 0" scale="0.75 0.75 1">
                        <a-entity is-remote-hover-target tags="singleActionButton:true; isHoverMenuChild: true;" mixin="rounded-text-button" slice9="width: 0.2">
                            <a-entity
                                sprite
                                icon-button="image: snap-page.png; hoverImage: snap-page.png;"
                                scale="0.115 0.115 0.115"
                                position="0 0 0.001"
                            ></a-entity>
                        </a-entity>
                    </a-entity>
                    <a-entity class="next-button" position="0.35 0 0">
                        <a-entity is-remote-hover-target tags="singleActionButton:true; isHoverMenuChild: true;" mixin="rounded-text-button" slice9="width: 0.2">
                            <a-entity
                                sprite
                                icon-button="image: next.png; hoverImage: next.png;"
                                scale="0.075 0.075 0.075"
                                position="0 0 0.001"
                            ></a-entity>
                        </a-entity>
                    </a-entity>
                </a-entity>
            </template>

            <!-- TODO: All of these positions are assuming 16:9 - need to actually reposition based on video resolution -->

            <template id="video-hover-menu">
                <a-entity class="ui interactable-ui hover-container" visible="false">
                    <a-entity
                        is-remote-hover-target
                        tags="singleActionButton: true; isHoverMenuChild: true;"
                        sprite
                        icon-button="image: snap.png; hoverImage: snap-hover.png; activeImage: snap.png; activeHoverImage: snap-hover.png"
                        visibility-on-content-types="contentTypes: video/mp4; contentSubtype: video-camera; visible: false;"
                        scale="0.075 0.075 0.075"
                        position="0 0.225 0"
                        class="video-snap-button"
                    ></a-entity>
                    <a-entity mixin="rounded-twitter-text-action-button ui" is-remote-hover-target tags="singleActionButton: true; isHoverMenuChild: true;" tweet-media-button visibility-on-content-types="contentTypes: video/mp4; contentSubtype: video-camera; visible: true;" position="0 0.285 0.001">
                        <a-entity text="value:tweet; width:1.5; align:center;" text-raycast-hack position="0 0 0.02"></a-entity>
                    </a-entity>
                    <a-entity class="video-time-label" text="value: 0; anchor: center; align: center; color: #aaa;" text-raycast-hack position="0 -0.24 0" scale="0.75 0.75 0.75"></a-entity>
                    <a-entity class="video-volume-label" text="value: 0%; anchor: center; align: center; color: #ccc; letterSpacing: 4;" text-raycast-hack position="0.0 0.14 0.0015" scale="1.25 1.25 1.25"></a-entity>
                    <a-entity
                        is-remote-hover-target
                        tags="singleActionButton: true; isHoverMenuChild: true;"
                        sprite
                        icon-button="image: volume_down.png; hoverImage: volume_down-hover.png;"
                        scale="0.075 0.075 0.075"
                        position="-0.275 0.14 0"
                        class="ui video-volume-down-button"
                    ></a-entity>
                    <a-entity
                        is-remote-hover-target
                        tags="singleActionButton: true; isHoverMenuChild: true;"
                        sprite
                        icon-button="image: volume_up.png; hoverImage: volume_up-hover.png;"
                        scale="0.075 0.075 0.075"
                        position="0.275 0.14 0"
                        class="ui video-volume-up-button"
                    ></a-entity>
                    <a-entity class="video-playback">
                        <a-entity
                            is-remote-hover-target
                            tags="singleActionButton: true; isHoverMenuChild: true;"
                            sprite
                            icon-button="image: seek_back.png; hoverImage: seek_back-hover.png;"
                            scale="0.1 0.1 0.1"
                            position="-0.3 -0.125 0"
                            class="ui video-seek-back-button"
                            visible="false"
                        ></a-entity>
                        <a-entity
                            is-remote-hover-target
                            tags="singleActionButton: true; isHoverMenuChild: true;"
                            sprite
                            icon-button="image: pause.png; hoverImage: pause-hover.png; activeImage: play.png; activeHoverImage: play-hover.png"
                            scale="0.15 0.15 0.15"
                            position="0 -0.125 0"
                            class="ui video-playpause-button"
                            visible="false"
                        ></a-entity>
                        <a-entity
                            is-remote-hover-target
                            tags="singleActionButton: true; isHoverMenuChild: true;"
                            sprite
                            icon-button="image: seek_fwd.png; hoverImage: seek_fwd-hover.png;"
                            scale="0.1 0.1 0.1"
                            position="0.3 -0.125 0"
                            class="ui video-seek-forward-button"
                            visible="false"
                        ></a-entity>
                    </a-entity>
                    <a-entity class="ui video-link-button" visible="false" mixin="rounded-text-action-button ui" is-remote-hover-target tags="singleActionButton: true; isHoverMenuChild: true;" open-media-button scale="0.8 0.8 0.8" position="0 -0.300 0.001">
                        <a-entity text="value:open link; width:1.5; align:center;" text-raycast-hack position="0 0 0.02"></a-entity>
                    </a-entity>
                </a-entity>
            </template>


            <template id="hubs-destination-hover-menu">
                <a-entity class="ui interactable-ui hover-container" visible="false">
                    <a-entity mixin="rounded-text-action-button ui" is-remote-hover-target tags="singleActionButton: true; isHoverMenuChild: true;" open-media-button position="0 -0.125 0.001">
                        <a-entity text="value:value; width:1.5; align:center;" text-raycast-hack position="0 0 0.02"></a-entity>
                    </a-entity>
                </a-entity>
            </template>

            <template id="avatar-link-hover-menu">
                <a-entity class="ui interactable-ui hover-container" visible="false">
                    <a-entity mixin="rounded-text-action-button ui" is-remote-hover-target tags="singleActionButton: true; isHoverMenuChild: true;" open-media-button position="0 -0.125 0.001">
                        <a-entity text="width:1.5; align:center;" text-raycast-hack position="0 0 0.02"></a-entity>
                    </a-entity>
                    <a-entity mixin="rounded-text-action-button ui" is-remote-hover-target tags="singleActionButton: true; isHoverMenuChild: true;" remix-avatar-button position="0 -0.35 0.001" visible="false">
                        <a-entity text="width:1.5; align:center;" text-raycast-hack position="0 0 0.02"></a-entity>
                    </a-entity>
                </a-entity>
            </template>

            <template id="link-hover-menu">
                <a-entity class="ui interactable-ui hover-container" visible="false">
                    <a-entity mixin="rounded-text-action-button ui" is-remote-hover-target tags="singleActionButton: true; isHoverMenuChild: true;" open-media-button position="0 0 0.001">
                        <a-entity text="value:open link; width:1.5; align:center;" text-raycast-hack position="0 0 0.02"></a-entity>
                    </a-entity>
                </a-entity>
            </template>

            <template id="photo-hover-menu">
                <a-entity class="ui interactable-ui hover-container" visible="false">
                    <a-entity mixin="rounded-twitter-text-action-button ui" is-remote-hover-target tags="singleActionButton: true; isHoverMenuChild: true;" tweet-media-button position="0 0.285 0.001">
                        <a-entity text="value:tweet; width:1.5; align:center;" text-raycast-hack position="0 0 0.02"></a-entity>
                    </a-entity>
                </a-entity>
            </template>

            <template id="video-unmute">
                <a-entity
                    class="ui interactable-ui hover-container unmute-ui"
                    position="0 0 0.1"
                    visibility-while-frozen="visible: false; withinDistance: 100; requireHoverOnNonMobile: false;"
                >
                    <a-entity is-remote-hover-target tags="singleActionButton:true;" mixin="rounded-text-button" slice9="width: 0.4" unmute-video-button position="0 -0.5 0.001">
                        <a-entity text="value:unmute; width:2; align:center;" text-raycast-hack position="0 0 0.02"></a-entity>
                    </a-entity>
                </a-entity>
            </template>

            <a-mixin id="rounded-text-button"
                slice9="
                    width: 0.45;
                    height: 0.2;
                    left: 64;
                    top: 64;
                    right: 66;
                    bottom: 66;
                    opacity: 1.0;
                    src: #button"
            ></a-mixin>

            <a-mixin id="rounded-button"
                slice9="
                    width: 0.2;
                    height: 0.2;
                    left: 64;
                    top: 64;
                    right: 66;
                    bottom: 66;
                    opacity: 1.0;
                    src: #button"
            ></a-mixin>

            <a-mixin id="rounded-text-action-button"
                slice9="
                    width: 0.45;
                    height: 0.2;
                    left: 64;
                    top: 64;
                    right: 66;
                    bottom: 66;
                    opacity: 1.0;
                    src: #action-button"
            ></a-mixin>

            <a-mixin id="rounded-action-button"
                slice9="
                    width: 0.2;
                    height: 0.2;
                    left: 64;
                    top: 64;
                    right: 66;
                    bottom: 66;
                    opacity: 1.0;
                    src: #action-button"
            ></a-mixin>

            <a-mixin id="rounded-twitter-text-action-button"
                text-button="
                    textHoverColor: #fff;
                    textColor: #fff;
                    backgroundColor: #1da1f2;
                    backgroundHoverColor: #2db1ff;
                    "
                slice9="
                    width: 0.45;
                    height: 0.2;
                    left: 64;
                    top: 64;
                    right: 66;
                    bottom: 66;
                    opacity: 1.0;
                    src: #button"
            ></a-mixin>
        </a-assets>

        <!-- HACK - We use this object to trigger initial batch preparation -->
        <a-entity id="batch-prep" visible="false"></a-entity>

        <!-- Interactables -->
        <a-entity id="media-counter" networked-counter="max: 20;"></a-entity>

        <a-entity id="pen-counter" networked-counter="max: 10;"></a-entity>

        <a-entity id="emoji-counter" networked-counter="max: 2;"></a-entity>

        <a-entity id="camera-counter" networked-counter="max: 1;"></a-entity>

        <a-entity id="drawing-manager" drawing-manager="penSpawner: #pen-spawner"></a-entity>

        <a-entity
            id="right-cursor-controller"
            cursor-controller="cursor: #right-cursor; camera: #avatar-pov-node;"
        ></a-entity>
          
        

        <a-entity
            id="left-cursor-controller"
            cursor-controller="cursor: #left-cursor; camera: #avatar-pov-node;"
        ></a-entity>

        <a-sphere
            id="right-cursor"
            material="shader: flat; depthTest: false; opacity:0.9;"
            radius="0.02"
            segments-width="9"
            segments-height="9"
            body-helper="type: kinematic; disableCollision: true; collisionFilterGroup: 8; collisionFilterMask: 0; scaleAutoUpdate: false; activationState: disable_deactivation;"
            shape-helper="type: sphere; sphereRadius: 0.02; fit: manual;"
            scale-in-screen-space="baseScale: 0.10 0.10 0.10; addedScale: 0.4 0.4 0.4">
            <a-entity
                sprite
                icon-button="image: rotate-cursor.png"
                scale="0.1 0.1 0.1"
                position="0.0 0 0"
                class="hud"
                visible-if-transforming="hand:right"
            ></a-entity>
        </a-sphere>

        <a-sphere
            id="left-cursor"
            material="shader: flat; depthTest: false; opacity:0.9;"
            radius="0.02"
            segments-width="9"
            segments-height="9"
            body-helper="type: kinematic; disableCollision: true; collisionFilterGroup: 8; collisionFilterMask: 0; scaleAutoUpdate: false; activationState: disable_deactivation;"
            shape-helper="type: sphere; sphereRadius: 0.02; fit: manual;"
            scale-in-screen-space="baseScale: 0.10 0.10 0.10; addedScale: 0.4 0.4 0.4">
            <a-entity
                sprite
                icon-button="image: rotate-cursor.png"
                scale="0.1 0.1 0.1"
                position="0.0 0 0"
                class="hud"
                visible-if-transforming="hand:left"
            ></a-entity>
        </a-sphere>

        <!-- Avatar Rig -->
        

        <a-entity
            id="avatar-rig"
            ik-root
            player-info
            set-yxz-order
            periodic-full-syncs
            visible="false"
            tags="inspectable: true; preventAudioBoost: true"
            inspect-pivot-child-selector="selector:.inspect-pivot"
        >
            <a-entity
                id="player-hud"
                hud-controller="head: #viewing-camera;"
                vr-mode-toggle-class="class: ui"
                vr-mode-toggle-visibility
                vr-mode-toggle-playing__hud-controller
            >
                <a-entity visibility-while-frozen="requireHoverOnNonMobile: false;" rotation="30 0 0">
                    <a-entity class="leave-btn" position="0 0 0" scale="0.7 0.7 0.7" leave-room-button is-remote-hover-target tags="singleActionButton: true;">
                        <a-entity mixin="rounded-text-action-button" slice9="width: 0.8" scale="0.8 0.8 1.0">
                            <a-entity text=" value:leave room; width:2; align:center;" text-raycast-hack position="0 0 0.001"></a-entity>
                        </a-entity>
                    </a-entity>
                </a-entity>
                <a-entity in-world-hud visibility-while-frozen="visible: false; requireHoverOnNonMobile: false;" rotation="30 0 0" >
                    <a-rounded height="0.08" width="0.2" color="#000000" position="-0.44 -0.045 0" radius="0.040" opacity="0.35" class="hud bg"></a-rounded>
                    <a-image scale="0.07 0.06 0.06" position="-0.38 -0.005 0.001" src="#presence-count" material="alphaTest:0.1;"></a-image>
                    <a-entity id="hud-presence-count" text="value: ; width:1.1; align:center;" position="-0.30 -0.005 0" matrix-auto-update="target: text;"></a-entity>
                    <a-entity class="invite-btn" position="0 0.18 0" scale="0.7 0.7 0.7" is-remote-hover-target tags="singleActionButton: true;">
                        <a-entity mixin="rounded-text-action-button" slice9="width: 0.7" scale="0.8 0.8 1.0">
                            <a-entity text=" value:invite; width:2; align:center;" text-raycast-hack position="0 0 0.001"></a-entity>
                        </a-entity>
                    </a-entity>
                    <a-rounded visible="false" vr-mode-toggle-visibility id="hud-tooltip" height="0.08" width="0.4" color="#000000" position="-0.2 -0.2 0" rotation="-20 0 0" radius="0.025" opacity="0.35" class="hud bg">
                        <a-entity text="value: ; align:center;" position="0.2 0.04 0.001" matrix-auto-update="target: text"></a-entity>
                    </a-rounded>
                    <a-entity
                        is-remote-hover-target
                        tags="singleActionButton: true"
                        sprite
                        mic-button="tooltip: #hud-tooltip; tooltipText: Mute Mic; activeTooltipText: Unmute Mic;"
                        scale="0.1 0.1 0.1"
                        position="-0.17 0 0.001"
                        class="hud mic"
                        material="alphaTest:0.1;"
                    ></a-entity>
                    <a-entity
                        is-remote-hover-target
                        tags="singleActionButton: true"
                        sprite
                        icon-button="
                            tooltip: #hud-tooltip;
                            tooltipText: Create;
                            activeTooltipText: Resume;
                            image: spawn.png;
                            hoverImage: spawn-hover.png;
                            disabledImage: spawn-disabled.png;"
                        scale="0.2 0.2 0.2"
                        position="0 0 0.005"
                        class="hud spawn"
                    ></a-entity>
                    <a-entity
                      id="tool_buttons"
                        is-remote-hover-target
                        tags="singleActionButton: true"
                        sprite
                        icon-button="
                            tooltip: #hud-tooltip;
                            tooltipText: Pen;
                            activeTooltipText: Pen;
                            image: pen_off.png;
                            hoverImage: pen_off-hover.png;
                            activeImage: pen_on.png;
                            activeHoverImage: pen_on-hover.png;
                            disabledImage: pen_off-disabled.png;"
                        scale="0.1 0.1 0.1"
                        position="0.17 0 0.001"
                        class="hud penhud"
                        material="alphaTest:0.1;"
                    ></a-entity>
                    <a-entity
                        is-remote-hover-target
                        tags="singleActionButton: true"
                        sprite
                        icon-button="
                            tooltip: #hud-tooltip;
                            tooltipText: Camera;
                            activeTooltipText: Camera;
                            image: camera_off.png;
                            hoverImage: camera_off-hover.png;
                            activeImage: camera_on.png;
                            activeHoverImage: camera_on-hover.png;
                            disabledImage: camera_off-disabled.png;"
                        scale="0.1 0.1 0.1"
                        position="0.28 0 0.001"
                        class="hud camera-btn"
                        material="alphaTest:0.1;"
                    ></a-entity>
                </a-entity>
            </a-entity>

            <a-entity
                id="avatar-pov-node"
                class="camera hanabi_aircanon_pov"
                personal-space-bubble="radius: 0.4;"
                rotation
                pitch-yaw-rotator
                set-yxz-order
                position="0 1.6 0"
            >
            
                <a-entity class="inspect-pivot" inspect-pivot-offset-from-camera></a-entity>
                <a-entity
                    id="gaze-teleport"
                    position = "0.15 0 0"
                    teleporter="start: /actions/startTeleport; confirm: /actions/stopTeleport; collisionEntities: [nav-mesh];"
                ></a-entity>
                <a-entity id="stats" stats-plus="false" position="0 0 -1"></a-entity>
            </a-entity>

            <a-entity
                id="player-left-controller"
                class="left-controller"
                track-pose="path: /actions/leftHand/matrix"
                visibility-by-path="path: /actions/leftHand/matrix"
                hand-controls2="left"
                teleporter="start: /actions/leftHand/startTeleport; confirm: /actions/leftHand/stopTeleport; collisionEntities: [nav-mesh]"
                matrix-auto-update
                body-helper="type: kinematic; emitCollisionEvents: false; disableCollision: true; collisionFilterGroup: 8; collisionFilterMask: 3; activationState: disable_deactivation; scaleAutoUpdate: false;"
                shape-helper="type: box; fit: manual; halfExtents: 0.03 0.04 0.05; offset: 0 0 -0.04"
                set-yxz-order
            >
            </a-entity>

            <a-entity
                id="player-right-controller"
                class="right-controller"
                track-pose="path: /actions/rightHand/matrix"
                visibility-by-path="path: /actions/rightHand/matrix"
                hand-controls2="right"
                teleporter="start: /actions/rightHand/startTeleport; confirm: /actions/rightHand/stopTeleport; collisionEntities: [nav-mesh]"
                matrix-auto-update
                body-helper="type: kinematic; emitCollisionEvents: false; disableCollision: true; collisionFilterGroup: 8; collisionFilterMask: 3; activationState: disable_deactivation; scaleAutoUpdate: false;"
                shape-helper="type: box; fit: manual; halfExtents: 0.03 0.04 0.05; offset: 0 0 -0.04"
                set-yxz-order
            >
            </a-entity>

            <a-entity gltf-model-plus="inflate: true;" class="model">
                <template data-name="AvatarRoot">
                    <a-entity
                        ik-controller="alwaysUpdate: true"
                        disable-frustum-culling
                        hand-pose__left
                        hand-pose__right
                        hand-pose-controller__left="networkedAvatar:#avatar-rig;eventSrc:#player-left-controller"
                        hand-pose-controller__right="networkedAvatar:#avatar-rig;eventSrc:#player-right-controller"
                    ></a-entity>
                </template>

                <template data-name="Neck">
                    <a-entity>
                        <a-entity class="nametag" visible="false" text ></a-entity>
                    </a-entity>
                </template>
                <template data-name="Spine">
                    <a-entity>
                        <a-entity class="chest-image" scale="0.18 0.18 0.18" position="0 -0.025 0.13"></a-entity>
                    </a-entity>
                </template>
                <template data-name="Head">
                    <a-entity id="avatar-head" visible="false" bone-visibility="updateWhileInvisible: true;"></a-entity>
                </template>

                <template data-name="LeftHand">
                    <a-entity bone-visibility="updateWhileInvisible: true;" hover-visuals="hand: left;"></a-entity>
                </template>

                <template data-name="RightHand">
                    <a-entity bone-visibility="updateWhileInvisible: true;" hover-visuals="hand: right;"></a-entity>
                </template>

            </a-entity>
        </a-entity>

        <!-- Environment -->
        <a-entity
            id="environment-root"
            body-helper="type: static; mass: 0; collisionFilterGroup: 2; collisionFilterMask: 1;"
            nav-mesh-helper
        >
            <a-entity id="environment-scene"></a-entity>
        </a-entity>

        <!-- Objects -->
        <a-entity id="objects-root">
            <a-entity id="objects-scene"></a-entity>
        </a-entity>
        <!-- ↓ action-to-eventの中に withPermission: spawn_drawing ↓ -->
        <a-entity
            id="pen-spawner"
            action-to-event="path: /actions/spawnPen; event: spawn_pen;";
            super-spawner="
                template: #interactable-pen;
                spawnEvent: spawn_pen;
                animateFromCursor: true;
                spawnScale: 0.5, 0.5, 0.5;
            "
        ></a-entity>

        <a-entity matrix-auto-update class="ui interactable-ui vr-notice" follow-in-fov="target: #avatar-pov-node; offset: 0 0 -0.8; angle: 39;" visible="false">
            <a-entity slice9="width: 0.8; height: 0.25; left: 64; top: 64; right: 66; bottom: 66; opacity: 1.0; src: #button"
                text-button="
                    textHoverColor: #fff;
                    textColor: #fff;
                    backgroundColor: #2f80ed;"
                position="0 0 0.001">
                <a-entity class="close-notice-button" close-vr-notice-button is-remote-hover-target tags="singleActionButton: true;" position="0 -0.075 0.001" scale="0.6 0.6 0.6">
                    <a-entity
                        sprite
                        icon-button="image: close-white.png; hoverImage: close-white.png;"
                        scale="0.05 0.05 0.05"
                        position="0 0.005 0.001"
                    ></a-entity>
                </a-entity>
                <a-entity text="value:View your desktop to continue; width:1; align:center;" position="0 0 0.001"></a-entity>
            </a-entity>
        </a-entity>
        <a-entity matrix-auto-update class="ui interactable-ui media-mirror" follow-in-fov="target: #avatar-pov-node; offset: 0 0 -0.8; angle: 39;" visible="false">
            <a-entity id="media-mirror-target" position="0 0 -0.075"></a-entity>
            <a-entity class="media-mirror-close" close-mirrored-media-button mixin="rounded-button" is-remote-hover-target tags="singleActionButton: true;" position="0 -0.35 0.001" scale="0.65 0.65 0.65">
                <a-entity
                    sprite
                    icon-button="image: close-action.png; hoverImage: close-action.png;"
                    scale="0.075 0.075 0.075"
                    position="0 0 0.001"
                ></a-entity>
            </a-entity>
        </a-entity>
        <a-entity id="viewing-rig" set-yxz-order matrix-auto-update>
            <a-entity
                id="viewing-camera"
                camera="near: 0.05"
                set-active-camera
                rotation
                fader
                set-yxz-order
                pitch-yaw-rotator
                matrix-auto-update>
            </a-entity>
        </a-entity>
        <a-entity id="scene-preview-node">
        </a-entity>
    </a-scene>

    <div id="ui-root"></div>
    <div id="preload-overlay"></div>
</body>

</html>
